YUI.add("mail-ui-workspace-ext",function(e){e.mix(e.mail.ui.Workspace,{_isComposeSaved:function(e){var t=this,n=function(){t.getComposeDirtyCount(1,n)===0&&e&&e()},r=this.getComposeDirtyCount(1,n);return r!==0?0:1},_switchDensity:function(t){var n=t.density,r=e.one("#msg-list"),i=e.all(".result.content"),s={"ml-regular":0,"ml-compact":1,"ml-open":2},o=0,u="",a;if(n){n=n.replace(/density/,"ml");if(r){for(a in s)if(r.hasClass(a)){u=a;break}o=s[n]||0,NeoConfig.msgListDensity=o,e.common.persist.UserData.set("userUIPref.msgListDensity",o),e.Lang.later(0,0,function(){r.replaceClass(u,n),NeoConfig.timeChunk&&e.fire("updateDensity")}),e.fire("messageDensityChange",{density:s[n]})}i&&e.Lang.later(0,0,function(){i.replaceClass(u,n)})}},setUdbKey:function(t,n){var r,i,s=document.location,o=e.common.net.SessionMgr,u=s.protocol+"//"+s.host+NeoConfig.scriptBase+"/mailoptions?storm=1";i='{"method":"SetUDBData","prefs":'+e.JSON.stringify(t)+"}",r={success:function(e){n&&n.success&&n.success(e)},failure:function(e){n&&n.failure&&n.failure(e)},suppressCodes:["*"]},o.request(u,i,r,"POST",null,!0)},_setupNavigationSwitchForNav:function(t,n){var r=e.one("body"),i=t.type,s,o,u={notepad:!0,calendar:!0,contacts:!0,searchNav:!0,"empty-search":!0,newsfeed:!0};u[i]?e.one("body").setAttribute("data-open",t.type):e.one("body").removeAttribute("data-open")}},1)},"1.0.0",{requires:["mail-ui-workspace-base"]});
