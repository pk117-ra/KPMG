YUI.add("mail-ui-onboarding-pensive",function(e){function l(){var e=require("BootcampAPIUtilsV2");return r||(r=new e({bucketId:NeoConfig.expBucketId,wssid:NeoConfig.wssid,mailboxId:NeoConfig.V3MailboxId,isForceUser:NeoConfig.forceDS,hasMultipleAccounts:NeoConfig.multipleAccounts,searchResultsLinksEnabled:!1,lmv3Enabled:n.enabled("LMV3"),clientId:o,bcHost:s})),r}var t=e.common.Utils,n=t.features,r=null,i,s=t.getBootcampURL(),o="YahooMailNeoPensive",u=function(){},a=n.enabled("attachMenuInOldToolbar",!1),f="tripodStatus:determined";e.mix(u.prototype,{openCompose:function(){e.once("newMessage",function(){e.mail.ui.Onboarding.closeDefaultOnboarding("pensiveCalloutOnLaunch")}),e.once("FullCompose:fullComposeReady",function(e){var t=e.context,n;t.pensiveLaunchCalloutFlow=!0,t.on("composeAssist:ready-to-open",function(){n={mimeType:"images",clickSource:"pensiveCalloutOnLaunch"},t.editor.fire("invoke:richcompose",n)})}),a&&e.on("PensiveBlockReady",function(){e.mail.ui.Onboarding.registerDefaultOnboarding({name:"pensiveCalloutOnComposeAssist",parent:e.one("#main"),node:e.one(".ca-photo-item"),pointer:"right",closeOnExternalClick:!0,offset:[-310,0],fireInit:!0,hdText:strings.str_pensive_onboarding_photolist_bd,autoFocus:!1},!0),e.fire("scout:resume")}),e.on(["composeAssistinsertToDraft","composeAssistRootClicked","composeAssistPhotoPreview"],function(){e.mail.ui.Onboarding.closeDefaultOnboarding("pensiveCalloutOnComposeAssist")}),e.fire("scout:suspend"),e.fire("newMessage",{cbfn:function(e){var t={},n;return n="",t.subject="",e.setHeader(t),e.setBody(null,n),!0}})},handlePensiveCallOut:function(){t.isCalloutShown("pensiveCalloutOnLaunch")||e.mail.ui.Onboarding.registerDefaultOnboarding({name:"pensiveCalloutOnLaunch",node:e.one("#Compose"),hdText:strings.str_pensive_onboarding_compose_hdr,pointer:"left",offset:[125,-50],bdText:strings.str_pensive_onboarding_compose_bd,btnPrimaryText:strings.str_pensive_onboarding_compose_linktext,onSuccess:i.openCompose},!0)},handleItems:function(e){if(e.length<=0)return;i.handlePensiveCallOut(),NeoGV.isPensiveUser=1},getTripodConnectionStatus:function(t){i.tripodStatusDetermined?typeof i.tripodStatus=="boolean"?t(i.tripodStatus):e.once(f,function(){t(i.tripodStatus)}):(i.tripodStatusDetermined=!0,l(),r.getExternalAccounts("tripod").then(function(n){i.tripodStatus=n&&n.data&&n.data.isConnected,e.fire(f),t(i.tripodStatus)}))},checkTripodConnectionStatus:function(){this.getTripodConnectionStatus(function(e){if(e){i.getCameraRollPhoto();return}})},getCameraRollPhoto:function(){l(),r.searchItems({url:s+"/v2/items?src=camera&mimeTypes=images&limit=1"+(n.enabled("useTripodIndex")?"&useTripod=true":"")}).then(function(e){e.data&&e.data.items&&i.handleItems(e.data.items)})},init:function(){i.checkTripodConnectionStatus()}},!0),i=new u,e.namespace("mail.ui.onboarding").pensive=i},"1.0.0",{requires:["tictac-lib","common-utils","mail-ui-onboarding"]});
YUI.add("minty_module_offscreen_bin_norrin_upsell_takeover",function(e){e.namespace("ui.Templates"),e.ui.Templates.minty_module_offscreen_bin_norrin_upsell_takeover={base:'<div class="callout-default" tabindex=0> <img class="callout-img" src={{imgSrc}}></img> <div class="wrap"> <div class="separator"></div> <div class="hd"> {{hdText}} </div> <div class="bd"> {{bdText}} </div> <div class="callout-actions"> <button class="btn callout-btn-primary">{{btnPrimaryText}}</button> </div> <button class="btn callout-btn-cancel">{{btnCancelText}}</button> </div></div>'}},"1.0.0");
YUI.add("mail-ui-norrin-upsell-takeover",function(e){var t,n=e.common.Utils,r=n.settings,i=e.ui.Templates.minty_module_offscreen_bin_norrin_upsell_takeover,s=function(){};e.mix(s.prototype,{init:function(){var t=this,s=r.value("norrinOnbardingUpsellStr")||{},o={name:"norrinUpsellTakeover",template:i,type:"takeover",imgPlace:"top",forceRender:!0,imgSrc:r.value("norrinUpsellImage"),retinaImgSrc:r.value("norrinUpsellRetinaImage"),hdText:strings[s.header]||strings.str_time_to_upgrade_inbox,bdText:strings[s.body]||strings.str_customizable_mail,btnPrimaryText:strings[s.primaryButton]||strings.str_norrin_upsell_primary,btnCancelText:strings.str_maybe_later,onSuccess:n.norrinOptInXhrCall,onUnmount:t.renderMinUpsell};e.mail.ui.Onboarding.registerDefaultOnboarding(o)},renderMinUpsell:function(){var t=e.one(".attribution-bar"),r=t.one(".attribution"),i=e.one("#norrin-upsell");t&&t.hide(),r&&r.addClass("hidden"),i.removeClass("hidden"),i.on("click",function(){e.fire("util:ymstats",{name:"norrin_min_upsell_click",include:{bucket:!0}}),e.fire("mt:click",{action:"norrin_min_upsell_click"}),n.norrinOptInXhrCall()}),e.fire("util:ymstats",{name:"norrin_min_upsell_shown",include:{bucket:!0}}),e.fire("mt:click",{action:"norrin_min_upsell_shown"}),e.on("boss:afterShow",function(){t&&t.show(),r&&r.removeClass("hidden")}),e.on("boss:hide",function(){t&&t.hide()})}}),t=new s,e.namespace("mail.ui.onboarding").norrinUpsellTakeover=t},"1.0.0",{requires:["common-utils","mail-ui-onboarding","norrin-min-upsell_css","norrin-upsell-takeover_css","minty_module_offscreen_bin_norrin_upsell_takeover"]});
