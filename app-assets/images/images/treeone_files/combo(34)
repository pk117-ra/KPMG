/*
YUI 3.16.0-ym19 (build 3.16.0-ym19)
Copyright 2016 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("widget-anim",function(e,t){function b(e){b.superclass.constructor.apply(this,arguments)}var n="boundingBox",r="host",i="node",s="opacity",o="",u="visible",a="destroy",f="hidden",l="rendered",c="start",h="end",p="duration",d="animShow",v="animHide",m="_uiSetVisible",g="animShowChange",y="animHideChange";b.NS="anim",b.NAME="pluginWidgetAnim",b.ANIMATIONS={fadeIn:function(){var t=this.get(r),f=t.get(n),l=new e.Anim({node:f,to:{opacity:1},duration:this.get(p)});return t.get(u)||f.setStyle(s,0),l.on(a,function(){this.get(i).setStyle(s,e.UA.ie?1:o)}),l},fadeOut:function(){return new e.Anim({node:this.get(r).get(n),to:{opacity:0},duration:this.get(p)})}},b.ATTRS={duration:{value:.2},animShow:{valueFn:b.ANIMATIONS.fadeIn},animHide:{valueFn:b.ANIMATIONS.fadeOut}},e.extend(b,e.Plugin.Base,{initializer:function(e){this._bindAnimShow(),this._bindAnimHide(),this.after(g,this._bindAnimShow),this.after(y,this._bindAnimHide),this.beforeHostMethod(m,this._uiAnimSetVisible)},destructor:function(){this.get(d).destroy(),this.get(v).destroy()},_uiAnimSetVisible:function(t){if(this.get(r).get(l))return t?(this.get(v).stop(),this.get(d).run()):(this.get(d).stop(),this.get(v).run()),new e.Do.Prevent},_uiSetVisible:function(e){var t=this.get(r),i=t.getClassName(f);t.get(n).toggleClass(i,!e)},_bindAnimShow:function(){this.get(d).on(c,e.bind(function(){this._uiSetVisible(!0)},this))},_bindAnimHide:function(){this.get(v).after(h,e.bind(function(){this._uiSetVisible(!1)},this))}}),e.namespace("Plugin").WidgetAnim=b},"3.16.0-ym19",{requires:["anim-base","plugin","widget"]});
YUI.add("mail-ui-workspace-fresh",function(e){e.mix(e.mail.ui.Workspace,{_setupFeedback:function(){e.use("comms-ui-feedback-widget","_shared_module_feedback","feedback_css",function(e){var t=e.comms.ui.Feedback,n="_shared_module_feedback",r={},i=NeoConfig.expBucketId,s;NeoConfig.isCorpmail&&(s="http://yo/corpmailgsd"),r={internalIP:NeoConfig.isInternalIP,bucketId:i,template:e.ui.Templates[n].base,strings:{yconfidential:"Y! Confidential"},urls:{bug:s||strings.str_cfg_url_feedback_bug,productInfo:strings.str_cfg_url_feedback_product_info,moderator:strings.str_cfg_url_feedback_ymoderator,confidential:strings.str_cfg_url_feedback_confidential}};var o=new t(r);o.render("body"),NeoConfig.expBucketIdList&&e.use("mail-debug",function(e){e.mail._showBuckets()})})}},1)},"1.0.0",{requires:["mail-ui-workspace-base","widget-anim"]});
YUI.add("mail-ui-workspace-stats",function(H){var E=NeoConfig,C=H.mail.ui.Workspace,A={},G=100;function D(K,J,I){var L={name:K};if(J){L.tags=J;}H.fire("util:ymstats",L);if(I){H.fire("mt:click",I);}}function F(){var I=H.one(".listnav-outter");C.statter("themeLaunch",{name:E.theme.id});C.statter("tabLauch",{enabled:E.tabs?1:0});C.statter("leftRailLaunch",{hasScrollbar:I.get("offsetHeight")<I.get("scrollHeight")?1:0});}function B(L,K,J,I){if(!I){I=G;}if(A[L]){A[L].cancel();}A[L]=H.later(I,C,C.statter,[L,K,J]);}H.mix(C,{sendStats:F,statter:D,statAfterIdle:B},1);},"1.0.0",{requires:["mail-ui-workspace-base"]});YUI.add("common-utils-rapid-clickmap",function(e){e.namespace("common.Utils").RapidCM={ml_srch:["hdr","hdr","srchMlLnk"],ml_srch_sugg:["hdr","hdr","sggstnLnk"],uh_signout_lnk:["hdr","hdr","signout"],uh_themes_lnk:["hdr","hdr","thmsLnk"],uh_options_lnk:["hdr","hdr","mlOptnsLnk"],uh_msgr_options_lnk:["hdr","hdr","mssngrOptnsLnk"],uh_Calendar_options_lnk:["hdr","hdr","clndrOptnsLnk"],uh_upgrade_lnk:["hdr","hdr","upgrdLnk"],uh_help_lnk:["hdr","hdr","hlpLnk"],uh_feedback_lnk:["hdr","hdr","fdbckLnk"],uh_privacy_lnk:["hdr","hdr","prvcyLnk"],uh_legal_lnk:["hdr","hdr","lglLnk"],uh_copyright_lnk:["hdr","hdr","cpyRghtLnk"],uh_ads_lnk:["hdr","hdr","adsLnk"],uh_fullmail_lnk:["hdr","hdr","fllLnk"],uh_help_upgrade_lnk:["hdr","hdr","upgrdLnk"],mail_search:["hdr","hdr","srchMailBtn"],launch:["launch"],first_time_launch:["launch","firstTime","newUser"],folder_tab:["tabs","{{activeTab}}","tab"],messageread_tab:["tabs","msgRdTb","tab"],compose_menu_toolbar:["msgLstTlbr","{{activeTab}}","tlbr","cmpsMnu"],compose_menu_toolbar_sel:["msgLstTlbr","{{activeTab}}","tlbr","cmpsMnuSel"],compose_new_nav_toolbar:["msgLstTlbr","{{activeTab}}","tlbr","cmpsBtn"],"tlbr_selectAll-message":["msgLstTlbr","{{activeTab}}","tlbr","selectAll"],tlbr_delete:["msgLstTlbr","{{activeTab}}","tlbr","dltBtn"],tlbr_reply_sender:["msgLstTlbr","{{activeTab}}","tlbr","rplyBtn"],tlbr_reply_all:["msgLstTlbr","{{activeTab}}","tlbr","rplyAllBtn"],tlbr_forward:["msgLstTlbr","{{activeTab}}","tlbr","frwrdBtn"],tlbr_spam:["msgLstTlbr","{{activeTab}}","tlbr","spmBtn"],"tlbr_menubtn-spam":["msgLstTlbr","{{activeTab}}","tlbr","spmMnu"],"tlbr_menusel-spam":["msgLstTlbr","{{activeTab}}","tlbr","spmMnuSel"],"tlbr_menubtn-move":["msgLstTlbr","{{activeTab}}","tlbr","mvMsgMnu"],"tlbr_menusel-move":["msgLstTlbr","{{activeTab}}","tlbr","mvMsgMnuSel"],"tlbr_menubtn-actions":["msgLstTlbr","{{activeTab}}","tlbr","actnMnu"],"tlbr_menusel-actions":["msgLstTlbr","{{activeTab}}","tlbr","actnMnuSel"],"tlbr_select-dd":["msgLstTlbr","{{activeTab}}","tlbr","slctMnuBtn"],"tlbr_menubtn-conv-view":["msgLstTlbr","{{activeTab}}","tlbr","vwMnuBtn"],tlbr_themes:["msgLstTlbr","{{activeTab}}","tlbr","vwMnu","thms"],tlbr_tab:["msgLstTlbr","{{activeTab}}","tlbr","vwMnu","tb"],tlbr_recent:["msgLstTlbr","{{activeTab}}","tlbr","vwMnu","rcnt"],tlbr_date:["msgLstTlbr","{{activeTab}}","tlbr","vwMnu","srtDt"],"tlbr_date-asc":["msgLstTlbr","{{activeTab}}","tlbr","vwMnu","srtDtAsc"],"tlbr_date-desc":["msgLstTlbr","{{activeTab}}","tlbr","vwMnu","srtDtDesc"],tlbr_unRead:["msgLstTlbr","{{activeTab}}","tlbr","vwMnu","srtUnrd"],tlbr_attachment:["msgLstTlbr","{{activeTab}}","tlbr","vwMnu","srtAtt"],"tlbr_sort-flagged":["msgLstTlbr","{{activeTab}}","tlbr","vwMnu","srtFlg"],"tlbr_menusel-conv-view":["msgLstTlbr","{{activeTab}}","tlbr","vwMnu","vwChng"],"tlbr_reply-im":["msgLstTlbr","{{activeTab}}","tlbr","rplyBtn"],"tlbr_menubtn-conv-actions":["msgLstTlbr","{{activeTab}}","tlbr","actnMnu",{t1:"chtTb"}],"tlbr_menusel-conv-actions":["msgLstTlbr","{{activeTab}}","tlbr","actnMnuSel",{t1:"chtTb"}],tlbr_edit:["msgLstTlbr","drftTb","tlbr","edtDrft"],tlbr_notspam:["msgLstTlbr","spmTb","tlbr","ntSpmBtn"],msglist_selectMnu:["msgLst","{{activeTab}}","msgLst","selectMnu"],msglist_retry:["msgLst","{{activeTab}}","msgLst","retry"],flag_message:["msgLst","{{activeTab}}","msgLst","flg"],unflag_message:["msgLst","{{activeTab}}","msgLst","unflg"],msglist_delBtn:["msgLst","{{activeTab}}","msgLst","delBtn"],msglist_archiveBtn:["msgLst","{{activeTab}}","msgLst","archiveBtn"],msglist_sortMnu:["msgLst","{{activeTab}}","msgLst","sortMnu"],open_msg:["msgLst","{{activeTab}}","msgLst","msg"],rt_click_msglst_preview:["msgLst","{{activeTab}}","msgLst","rtClkMenuPreview"],rt_click_msglst:["msgLst","{{activeTab}}","msgLst","rtClkMenu"],click_select:["msgLst","{{activeTab}}","msgLst","slctMsg"],mas_frm_srch:["msgLst","{{activeTab}}","msgLst","frmSrch"],mas_sbj_srch:["msgLst","{{activeTab}}","msgLst","sbjSrch"],msglist_delBtn_thrd:["msgLst","{{activeTab}}","msgLst","delBtnThrd"],msglist_archiveBtn_thrd:["msgLst","{{activeTab}}","msgLst","archiveBtnThrd"],click_select_thrd:["msgLst","{{activeTab}}","msgLst","selThrd"],flag_thrd:["msgLst","{{activeTab}}","msgLst","flgThrd"],unflag_thrd:["msgLst","{{activeTab}}","msgLst","unflgThrd"],expand_thrd:["msgLst","{{activeTab}}","msgLst","expThrd"],retry_expand_thrd:["msgLst","{{activeTab}}","msgLst","retryExpThrd"],collapse_thrd:["msgLst","{{activeTab}}","msgLst","clpseThrd"],flag_thrd_msg:["msgLst","{{activeTab}}","msgLst","thrdLst","flg"],unflag_thrd_msg:["msgLst","{{activeTab}}","msgLst","thrdLst","unflg"],msglist_delBtn_thrd_msg:["msgLst","{{activeTab}}","msgLst","thrdLst","delBtn"],msglist_archiveBtn_thrd_msg:["msgLst","{{activeTab}}","msgLst","thrdLst","archiveBtn"],open_thrd_msg:["msgLst","{{activeTab}}","msgLst","thrdLst","msg"],open_thrd_drftMsg:["msgLst","{{activeTab}}","msgLst","thrdLst","drftMsg"],move_thrd_msg:["msgLst","{{activeTab}}","msgLst","thrdLst","move"],account_switch_primary:["acctLst","leftRail","acctLst","acctSwtchPrmr"],account_switch_external:["acctLst","leftRail","acctLst","acctSwtchExtrnl"],toggle_account_list_expand:["acctLst","leftRail","acctLst","tgglAcctLstExpnd"],toggle_account_list_collapse:["acctLst","leftRail","acctLst","tgglAcctLstCllps"],imap_upsell_generic:["acctLst","leftRail","acctLst","genUpsell"],norrin_optin_shown:["fldrLst","leftRail","fldrLst","norrinOnboard","shown"],norrin_optin_clicked:["fldrLst","leftRail","fldrLst","norrinOnboard","click"],norrin_optin_status:["fldrLst","leftRail","fldrLst","norrinOnboard","complete"],norrin_optin_hidden:["fldrLst","leftRail","fldrLst","norrinOnboard","close"],add_mailbox_link_shown:["fldrLst","leftRail","fldrLst","addMbox","shown"],add_mailbox_link_success:["fldrLst","leftRail","fldrLst","addMbox","click"],add_mailbox_link_imap:["fldrLst","leftRail","fldrLst","addMbox","imap"],add_mailbox_link_close:["fldrLst","leftRail","fldrLst","addMbox","close"],inbox_fldr:["fldrLst","leftRail","fldrLst","fldrInbx"],conversations_fldr
:["fldrLst","leftRail","fldrLst","fldrCnv"],drafts_fldr:["fldrLst","leftRail","fldrLst","fldrDrft"],sent_fldr:["fldrLst","leftRail","fldrLst","fldrSnt"],archive_fldr:["fldrLst","leftRail","fldrLst","fldrArchv"],spam_fldr:["fldrLst","leftRail","fldrLst","fldrSpm"],trash_fldr:["fldrLst","leftRail","fldrLst","fldrTrsh"],inbox_leftnav:["fldrLst","leftRail","fldrLst","inbxBtn"],calendar_leftnav:["fldrLst","leftRail","fldrLst","cldrBtn"],contacts_leftnav:["fldrLst","leftRail","fldrLst","cntctBtn"],notepad_leftnav:["fldrLst","leftRail","fldrLst","ntpdBtn"],msngr_nav:["fldrLst","leftRail","fldrLst","msngrBtn"],custom_expand:["fldrLst","leftRail","fldrLst","cstmexpnd"],custom_collapse:["fldrLst","leftRail","fldrLst","cstmclps"],checkmail_btn:["fldrLst","leftRail","fldrLst","chkMlBtn"],mim_toggle:["fldrLst","leftRail","fldrLst","togYFrnds"],mim_frnd:["fldrLst","leftRail","fldrLst","chtYFrnd"],mim_message_send:["fldrLst","leftRail","fldrLst","mimMsgSnd"],mim_message_receive:["fldrLst","leftRail","fldrLst","mimMsgRcv"],usr_fldr:["fldrLst","leftRail","fldrLst","fldrUser"],toggle_smartviews_collapse:["fldrLst","leftRail","fldrLst","tgglSmtVwsCllps"],toggle_smartviews_expand:["fldrLst","leftRail","fldrLst","tgglSmtVwsExpnd"],emptyspam_btn:["fldrLst","leftRail","fldrLst","emptySpmBtn"],emptytrash_btn:["fldrLst","leftRail","fldrLst","emptyTrshBtn"],fldr_add:["fldrLst","leftRail","fldrLst","fldrAdd"],fldr_edit_close:["fldrLst","leftRail","fldrLst","fldrEdtCls"],fldr_srch_open:["fldrLst","leftRail","fldrLst","fldrSrchOpn"],fldr_srch_close:["fldrLst","leftRail","fldrLst","fldrSrchCls"],fldr_srch:["fldrLst","leftRail","fldrLst","fldrSrch"],cntxt_mnu_fldr:["fldrLst","leftRail","fldrLst","cntxtMnuFldrOpn"],"cntxt_mnu_fldr_itm_folder-new":["fldrLst","leftRail","fldrLst","cntxtMnuFldr","fldrAdd"],"cntxt_mnu_fldr_itm_folder-new-subfolder":["fldrLst","leftRail","fldrLst","cntxtMnuFldr","sbfldrAdd"],"cntxt_mnu_fldr_itm_folder-rename":["fldrLst","leftRail","fldrLst","cntxtMnuFldr","fldrRnm"],"cntxt_mnu_fldr_itm_folder-remove":["fldrLst","leftRail","fldrLst","cntxtMnuFldr","fldrRmv"],"cntxt_mnu_fldr_itm_folder-allread":["fldrLst","leftRail","fldrLst","cntxtMnuFldr","fldrMrkRd"],"cntxt_mnu_fldr_itm_folder-empty-spam":["fldrLst","leftRail","fldrLst","cntxtMnuFldr","fldrMtSpm"],"cntxt_mnu_fldr_itm_folder-empty-trash":["fldrLst","leftRail","fldrLst","cntxtMnuFldr","fldrMtTrsh"],cntxt_mnu_sys_fldr:["fldrLst","leftRail","fldrLst","cntxtMnuSysFldrOpn"],"cntxt_mnu_sys_fldr_itm_folder-new":["fldrLst","leftRail","fldrLst","cntxtMnuSysFldr","fldrAdd"],"cntxt_mnu_sys_fldr_itm_folder-allread":["fldrLst","leftRail","fldrLst","cntxtMnuSysFldr","fldrMrkRd"],"cntxt_mnu_sys_fldr_itm_folder-empty-spam":["fldrLst","leftRail","fldrLst","cntxtMnuSysFldr","fldrMtSpm"],"cntxt_mnu_sys_fldr_itm_folder-empty-trash":["fldrLst","leftRail","fldrLst","cntxtMnuSysFldr","fldrMtTrsh"],cntxt_mnu_fldr_v3:["fldrLst","leftRail","fldrLst","cntxtMnuFldrV3Opn"],"cntxt_mnu_fldr_v3_itm_folder-new":["fldrLst","leftRail","fldrLst","cntxtMnuFldrV3","fldrAdd"],"cntxt_mnu_fldr_v3_itm_folder-new-subfolder":["fldrLst","leftRail","fldrLst","cntxtMnuFldrV3","sbfldrAdd"],"cntxt_mnu_fldr_v3_itm_folder-rename":["fldrLst","leftRail","fldrLst","cntxtMnuFldrV3","fldrRnm"],"cntxt_mnu_fldr_v3_itm_folder-remove":["fldrLst","leftRail","fldrLst","cntxtMnuFldrV3","fldrRmv"],"cntxt_mnu_fldr_v3_itm_folder-allread":["fldrLst","leftRail","fldrLst","cntxtMnuFldrV3","fldrMrkRd"],"cntxt_mnu_fldr_v3_itm_folder-empty-spam":["fldrLst","leftRail","fldrLst","cntxtMnuFldrV3","fldrMtSpm"],"cntxt_mnu_fldr_v3_itm_folder-empty-trash":["fldrLst","leftRail","fldrLst","cntxtMnuFldrV3","fldrMtTrsh"],"cntxt_mnu_fldr_v3_itm_find-folder":["fldrLst","leftRail","fldrLst","cntxtMnuFldrV3","fndFldr"],"cntxt_mnu_imap_acct_itm_account-new":["acctLst","leftRail","acctLst","cntxtMnuImpAcctNw"],"cntxt_mnu_imap_acct_itm_account-rename":["acctLst","leftRail","acctLst","cntxtMnuImpAcctRnm"],"cntxt_mnu_imap_acct_itm_account-edit":["acctLst","leftRail","acctLst","cntxtMnuImpAcctEdt"],recentTabs_expand:["fldrLst","leftRail","fldrLst","recentTabs",{ltxt:"expand"}],left_rail_scroll:["fldrLst","leftRail","fldrLst","lftRlScrll"],themechooser_select:["thmDlg","dialog","thmDlg","selectTheme"],themechooser_exit_done:["thmDlg","dialog","thmDlg","done"],themechooser_exit_close:["thmDlg","dialog","thmDlg","close"],themechooser_exit_outside:["thmDlg","dialog","thmDlg","outside"],cmps_tab_cls:["tabs","cmpsTb","tbCls"],tlbr_send:["cmpsTlbr","cmpsTb","tlbr","snd",{t1view:"{{listMode}}"}],tlbr_att_send:["cmpsTlbr","{{activeTab}}","tlbr","attSnd"],msg_send:["cmpsTlbr","cmpsTb","tlbr","sent"],tlbr_cancelcompose:["cmpsTlbr","cmpsTb","tlbr","cncl"],tlbr_savedraft:["cmpsTlbr","cmpsTb","tlbr","svdft"],cmps_addrec:["cmpsHdr","cmpsTb","cmpsHdr","addrec"],cmps_addcc:["cmpsHdr","cmpsTb","cmpsHdr","addcc"],cmps_addbcc:["cmpsHdr","cmpsTb","cmpsHdr","addbcc"],cmps_shwcc:["cmpsHdr","cmpsTb","cmpsHdr","shwcc"],cmps_hdcc:["cmpsHdr","cmpsTb","cmpsHdr","hdcc"],cmps_shwbcc:["cmpsHdr","cmpsTb","cmpsHdr","shwbcc"],cmps_hdbcc:["cmpsHdr","cmpsTb","cmpsHdr","hdbcc"],cmps_rplysndr:["cmpsHdr","cmpsTb","cmpsHdr","rplysndr"],cmps_rplyall:["cmpsHdr","cmpsTb","cmpsHdr","rplyall"],ac_del:["cmpsHdr","cmpsTb","cmpsHdr","ac_del"],ac_select:["cmpsHdr","cmpsTb","cmpsHdr","ac_select"],cmps_emo:["emo","cmpsTb","well"],cmps_fmt:["fmt","cmpsTb","well"],cmps_attch:["attch","cmpsTb","well"],cmps_attchReply_mnu:["attch","cmpsTb","well","attprntmnu"],cmps_attflmnu:["attch","cmpsTb","well","attflmnu"],cmps_attfl:["attch","cmpsTb","well","attfl"],cmps_attlgfl:["attch","cmpsTb","well","attlgfl"],cmps_attflk:["attch","cmpsTb","well","attflk"],cmps_att_docs_open:["attch","cmpsTb","well","att_docs_open"],cmps_att_images_open:["attch","cmpsTb","well","att_images_open"],cmps_att_gifs_open:["attch","cmpsTb","well","att_gifs_open"],"cmps_wl_btn-fontname":["fmt","cmpsTb","well","fnttyp"],"cmps_wl_btn-fontsize":["fmt","cmpsTb","well","fntsz"],cmps_wl_bold:["fmt","cmpsTb","well","bld"],cmps_wl_italic
:["fmt","cmpsTb","well","itlcs"],cmps_wl_underline:["fmt","cmpsTb","well","undrln"],"cmps_wl_btn-forecolor":["fmt","cmpsTb","well","fntclr"],"cmps_wl_btn-backcolor":["fmt","cmpsTb","well","fnthglght"],"cmps_wl_align-l":["fmt","cmpsTb","well","algnlft"],"cmps_wl_align-c":["fmt","cmpsTb","well","algnctr"],"cmps_wl_align-r":["fmt","cmpsTb","well","algnrght"],"cmps_wl_btn-indent":["fmt","cmpsTb","well","indent"],"cmps_wl_btn-text-align":["fmt","cmpsTb","well","alignmn"],cmps_wl_indent:["fmt","cmpsTb","well","incindnt"],cmps_wl_outdent:["fmt","cmpsTb","well","decindnt"],cmps_wl_insertunorderedlist:["fmt","cmpsTb","well","bllt"],cmps_wl_insertorderedlist:["fmt","cmpsTb","well","blltOrdr"],cmps_wl_insertnumberedlist:["fmt","cmpsTb","well","num"],cmps_wl_insertlink:["fmt","cmpsTb","well","hyprlnk"],cmps_wl_emoticon:["fmt","cmpsTb","well","emomnu"],cmps_wl_spellcheck:["fmt","cmpsTb","well","spllchk"],"cmps_wl_btn-spell-langs":["fmt","cmpsTb","well","spllchkmnu"],cmps_wl_bidi_ltr:["fmt","cmpsTb","well","bidi_ltr"],cmps_wl_bidi_rtl:["fmt","cmpsTb","well","bidi_rtl"],cmps_stchpt:["fmt","cmpsTb","well","stchpt"],cmps_qtd_txt:["cmpsBdy","cmpsTb","cmpsBdy","expndTxt"],"cmps_wl_btn-fontnamesize":["fmt","cmpsTb","well","fntSz"],"cmps_wl_btn-insertunordered":["fmt","cmpsTb","well","blltLstMnu"],cmps_wl_fmt_tlbr_open:["fmt","cmpsTb","well","fmtTlbr_open"],cmps_wl_fmt_tlbr_close:["fmt","cmpsTb","well","fmtTlbr_close"],cmps_dlg_attch_rply_cls:["rcpntDlg","dialog","rcpntDlg","close"],cmps_dlg_attch_rply_no:["rcpntDlg","dialog","rcpntDlg","no"],cmps_dlg_attch_rply_ok:["rcpntDlg","dialog","rcpntDlg","yes"],stnry_open:["cmpsTlbr","{{activeTab}}","tlbr","stn_open"],stnry_close:["cmpsTlbr","{{activeTab}}","tlbr","stn_close"],stnry_action:["cmpsTlbr","{{activeTab}}","tlbr","stn_actn"],stn_category:["cmpsTlbr","{{activeTab}}","tlbr","stn_category"],stn_chooseThm:["cmpsTlbr","{{activeTab}}","tlbr","stn_chooseThm"],stn_clear:["cmpsTlbr","{{activeTab}}","tlbr","stn_clear"],stn_nav:["cmpsTlbr","{{activeTab}}","tlbr","stn_nav"],att_cmps_exp:["attch","cmpsTb","well","attExp"],att_cmps_cll:["attch","cmpsTb","well","attCll"],att_cmps_rmv:["attch","cmpsTb","well","attRmv"],att_cmps_nrtn:["attch","cmpsTb","well","attNrtn"],att_cmps_mnu_rmv:["attch","cmpsTb","well","attMnuRmv"],att_cmps_dnd_mlti:["attch","cmpsTb","well","attDndMlti"],db_dropbox_link_ok:["attch","cmpsTb","well","attDbOk"],db_dropbox_link_cancelled:["attch","cmpsTb","well","attDbCnl"],db_dropbox_share_from_activated:["attch","cmpsTb","well","attDbAc"],db_dropbox_alf_enable_ok:["attch","cmpsTb","well","attDbAlfAc"],att_save_to_dropbox:["attch","cmpsTb","well","attSvtDb"],enhancr_autolink_count:["attch","cmpsTb","well","attEnAL"],tlbr_print:["msgReadTlbr","msgRdTb","tlbr","prntBtn"],tlbr_prev:["msgReadTlbr","msgRdTb","tlbr","navBtn",{ltxt:"up"}],tlbr_next:["msgReadTlbr","msgRdTb","tlbr","navBtn",{ltxt:"down"}],tlbr_left:["msgReadTlbr","msgRdTb","tlbr","navBtn",{ltxt:"left"}],tlbr_right:["msgReadTlbr","msgRdTb","tlbr","navBtn",{ltxt:"right"}],"tlbr_menubtn-msg-actions":["msgReadTlbr","msgRdTb","tlbr","actnMnu"],"tlbr_menusel-msg-actions":["msgReadTlbr","msgRdTb","tlbr","actnMnuSel"],"tlbr_thread-toggle":["msgReadTlbr","msgRdTb","tlbr","thrdTgl"],tlbr_closemsg:["msgReadTlbr","msgRdTb","tlbr","clsMsg"],subject:["msgRead","msgRdTb","msgHdr","sbjct"],frm_srch:["msgRead","msgRdTb","msgHdr","frmSrch"],download_paperclip:["msgRead","msgRdTb","msgHdr","dlPcBtn"],lozenge_add:["msgRead","msgRdTb","msgHdr","lzngAddBtn"],lozenge_more:["msgRead","msgRdTb","msgHdr","lzngMoreBtn"],lozenge_menu:["msgRead","msgRdTb","msgHdr","lzngMnu"],details:["msgRead","msgRdTb","msgHdr","dtlsBtn"],read_toggle:["msgRead","msgRdTb","msgHdr","readInfo"],flag:["msgRead","msgRdTb","msgHdr","flg"],retry:["msgRead","msgRdTb","msgBody","retryBtn"],show_images:["msgRead","msgRdTb","msgBody","shwImgBtn"],options:["msgRead","msgRdTb","msgBody","optnBtn"],show_fullmsg:["msgRead","msgRdTb","msgBody","fullMsgBtn"],download_all:["msgRead","msgRdTb","msgBody","dlAllBtn"],download_single:["msgRead","msgRdTb","msgBody","dlSglBtn"],atm_norton:["msgRead","msgRdTb","msgHdr","atmNorton"],atm_slideshow_next:["msgRead","msgRdTb","msgHdr","atmSsNext"],atm_slideshow_prev:["msgRead","msgRdTb","msgHdr","atmSsPrev"],atm_download_thumbnail_selected:["msgRead","msgRdTb","msgHdr","atmDlTnSel"],atm_download_menu_selected:["msgRead","msgRdTb","msgHdr","atmDlMnSel"],atm_download_all_selected:["msgRead","msgRdTb","msgHdr","atmDlAllSel"],atm_slideshow_thumbnail_selected:["msgRead","msgRdTb","msgHdr","atmSsTnSel"],atm_slideshow_file_selected:["msgRead","msgRdTb","msgHdr","atmSsFlSel"],atm_slideshow_photo_selected:["msgRead","msgRdTb","msgHdr","atmSsPhSel"],atm_slideshow_all_selected:["msgRead","msgRdTb","msgHdr","atmSsAllSel"],atm_slideshow_download_single:["msgRead","msgRdTb","msgHdr","atmSsDlSi"],atm_download_success:["msgRead","msgRdTb","msgHdr","atmDlSuc"],atm_download_error_general:["msgRead","msgRdTb","msgHdr","atmDlErrGen"],atm_download_error_json:["msgRead","msgRdTb","msgHdr","atmDlErrJson"],atm_download_success_warnings:["msgRead","msgRdTb","msgHdr","atmDlSucWarns"],atm_download_success_errors:["msgRead","msgRdTb","msgHdr","atmDlSucErrs"],atm_download_success_warning:["msgRead","msgRdTb","msgHdr","atmDlSucWarn"],atm_download_success_error:["msgRead","msgRdTb","msgHdr","atmDlSucErr"],atm_download_success_success:["msgRead","msgRdTb","msgHdr","atmDlSucSuc"],atm_dropbox_saveto_selected:["msgRead","msgRdTb","msgHdr","atmDpSvtSel"],atm_dropbox_saveall_selected:["msgRead","msgRdTb","msgHdr","atmDpSvlSel"],msg_lnk_clk:["msgRead","msgRdTb","msgBody","mLnkClk"],flag_thrd_hdr:["thrdRead","thrdRdTb","thrdHdr","flg"],unflag_thrd_hdr:["thrdRead","thrdRdTb","thrdHdr","unflg"],read_thrd_hdr:["thrdRead","thrdRdTb","thrdHdr","read"],unread_thrd_hdr:["thrdRead","thrdRdTb","thrdHdr","unread"],retry_thrd_hdr:["thrdRead","thrdRdTb","thrdHdr","retryBtn"],flag_thrd_msg_hdr:["thrdRead","thrdRdTb","msg","msgHdr","flg"],unflag_thrd_msg_hdr:["thrdRead"
,"thrdRdTb","msg","msgHdr","unflg"],read_thrd_msg_hdr:["thrdRead","thrdRdTb","msg","msgHdr","read"],unread_thrd_msg_hdr:["thrdRead","thrdRdTb","msg","msgHdr","unread"],expand_thrd_msg_hdr:["thrdRead","thrdRdTb","msg","msgHdr","expMsg"],collapse_thrd_msg_hdr:["thrdRead","thrdRdTb","msg","msgHdr","clpseMsg"],show_images_thrd_msg:["thrdRead","thrdRdTb","msg","msgBody","shwImgBtn"],expand_qtd_thrd_msg:["thrdRead","thrdRdTb","msg","msgBody","expQtd"],collapse_qtd_thrd_msg:["thrdRead","thrdRdTb","msg","msgBody","clpseQtd"],retry_thrd_msg:["thrdRead","thrdRdTb","msg","msgBody","retryBtn"],options_thrd_msg:["thrdRead","thrdRdTb","msg","msgBody","optnBtn"],thrd_msg_lnk_clk:["thrdRead","thrdRdTb","msg","msgBody","tmLnkClk"],reply_sender_thrd_msg:["thrdRead","thrdRdTb","msg","tlbr","rplyBtn"],reply_all_thrd_msg:["thrdRead","thrdRdTb","msg","tlbr","rplyAllBtn"],quick_reply_sender_tlbr_thrd_msg:["thrdRead","thrdRdTb","msg","qRply","qrRplyBtn"],quick_reply_all_tlbr_thrd_msg:["thrdRead","thrdRdTb","msg","qRply","qrRplyAllBtn"],quick_forward_tlbr_thrd_msg:["thrdRead","thrdRdTb","msg","qRply","qrFwdBtn"],quick_reply_all_thrd_msg:["thrdRead","thrdRdTb","msg","qRply","rplyAllBtn"],forward_thrd_msg:["thrdRead","thrdRdTb","msg","tlbr","frwrdBtn"],delete_thrd_msg:["thrdRead","thrdRdTb","msg","tlbr","dltBtn"],actnMnu_thrd_msg:["thrdRead","thrdRdTb","msg","tlbr","actnMnu"],spam_thrd_msg:["thrdRead","thrdRdTb","msg","tlbr","spamBtn"],print_thrd_msg:["thrdRead","thrdRdTb","msg","tlbr","print"],fullheader_thrd_msg:["thrdRead","thrdRdTb","msg","tlbr","fullheader"],rawmessage_thrd_msg:["thrdRead","thrdRdTb","msg","tlbr","rawmsg"],set_encodings_thrd_msg:["thrdRead","thrdRdTb","msg","tlbr","set_encodings"],reply_card_menu_reply_all:["thrdReply","thrdRdTb","compose","thrdReplyHdr","replyAllMenu"],reply_card_menu_reply_sender:["thrdReply","thrdRdTb","compose","thrdReplyHdr","replySenderMenu"],reply_card_menu_forward:["thrdReply","thrdRdTb","compose","thrdReplyHdr","fwdMenu"],"reply_card_switch-to-fullcompose":["thrdReply","thrdRdTb","compose","thrdReplyHdr","switchToTallBtn"],"reply_card_reply-mode-change":["thrdReply","thrdRdTb","compose","thrdReplyHdr","replyModeBtn"],"reply_card_qr-cancel":["thrdReply","thrdRdTb","compose","thrdReplyHdr","cancelBtn"],compose_hdr_close_confirm_cc:["thrdReply","thrdRdTb","compose","thrdReplyHdr","closeCcConfirm"],compose_hdr_close_confirm_bcc:["thrdReply","thrdRdTb","compose","thrdReplyHdr","closeBccConfirm"],srch_flt:["leftRail","srchTb","flt"],srch_tgl:["leftRail","srchTb","tgl"],mb_ad:["msgLst","{{activeTab}}","msgLst","mbAds"],mb_ad_thrd:["msgLst","{{activeTab}}","msgLst","mbAds"],gta_get:["signup","leftRail","mblzr","gta-btn",{cat:"gtaa"}],gta_send:["signup","leftRail","mblzr","send",{cat:"gtaa"}],autosuggest_auth_facebook:["cmpsHdr","cmpsTb","cmpsHdr","asFbFtr"],autosuggest_auth_linkedin:["cmpsHdr","cmpsTb","cmpsHdr","asLiFtr"],autosuggest_auth_twitter:["cmpsHdr","cmpsTb","cmpsHdr","asTwFtr"],autosuggest_contacts_import:["cmpsHdr","cmpsTb","cmpsHdr","asCI"],autocompose_invoke:["msgLstTlbr","{{activeTab}}","tlbr","autocomposeBtn"],autocompose_refresh:["cmpsTlbr","cmpsTb","tlbr","autocomposeRefresh"],autocompose_friendlylove:["cmpsTlbr","cmpsTb","tlbr","autocomposeFriendlyLove"],autocompose_crazyinlove:["cmpsTlbr","cmpsTb","tlbr","autocomposeCrazyInLove"],autocompose_allouttalove:["cmpsTlbr","cmpsTb","tlbr","autocomposeAllOuttaLove"],autocompose_send:["cmpsTlbr","cmpsTb","tlbr","autocomposeSnd"],autocompose_sendmore:["sentNf","{{activeTab}}","sentNf","autocomposeSndMore"],cmps_ev2_small:["cmpsBdy","cmpsTb","cmpsBdy","enhancrV2"],cmps_ev2_medium:["cmpsBdy","cmpsTb","cmpsBdy","enhancrV2"],cmps_ev2_large:["cmpsBdy","cmpsTb","cmpsBdy","enhancrV2"],cmps_ev2_append:["cmpsBdy","cmpsTb","cmpsBdy","enhancrV2"],cmps_ev2_deappend:["cmpsBdy","cmpsTb","cmpsBdy","enhancrV2"],cmps_ev2_remove:["cmpsBdy","cmpsTb","cmpsBdy","enhancrV2"],cmps_ev2_card_added:["cmpsBdy","cmpsTb","cmpsBdy","enhancrV2"],msgRd_ev2_share_mail:["msgRead","msgRdTb","msgBody","enhancrV2"],msgRd_ev2_share_facebook:["msgRead","msgRdTb","msgBody","enhancrV2"],msgRd_ev2_share_twitter:["msgRead","msgRdTb","msgBody","enhancrV2"],msgRd_ev2_share_tumblr:["msgRead","msgRdTb","msgBody","enhancrV2"],msgRd_ev2_play:["msgRead","msgRdTb","msgBody","enhancrV2"],msgRd_ev2_play_stop:["msgRead","msgRdTb","msgBody","enhancrV2"],jtc_article_click:["jtc","rightRail","snpt"],jtc_cta_click:["jtc","rightRail","ftr","Join the conversation"],jtc_arrow_click:["jtc","rightRail","ftr","arrows"],inlineinstall_widermail_install:["inlineInstallDlg","dialog","inlineInstallDlg","install"],inlineinstall_widermail_cancel:["inlineInstallDlg","dialog","inlineInstallDlg","cancel"],inlineinstall_widermail_install_retargeting:["inlineInstallDlg","dialog","inlineInstallDlg","install"],inlineinstall_widermail_cancel_retargeting:["inlineInstallDlg","dialog","inlineInstallDlg","cancel"],unseen_notification_count_zero:["mailView","msgList","mailView","notification"],unseen_notification_clicked:["mailView","msgList","mailView","notification"],unseen_notification_shown:["mailView","msgList","mailView","notification"],unseen_notification_count_offline:["mailView","msgList","mailView","notification"],unseen_notification_count_failed:["mailView","msgList","mailView","notification"],mView_right_prv:["mailView","msgList","mailView","mView_right_prv"],mView_bottom_prv:["mailView","msgList","mailView","mView_bottom_prv"],mView_no_prv:["mailView","msgList","mailView","mView_no_prv"],mail_pro_collapse_signup_click:["rightRail","collapseBtn","mailProUpsell","signUpBtn"]}},"1.0.0",{requires:[]});
YUI.add("common-utils-rapid-viewmap",function(e){e.namespace("common.Utils").RapidVM={folderview_inbox:["click_select","mas_frm_srch","msglist_delBtn","flag_message","unflag_message","open_msg"],autosuggest_footer:["autosuggest_auth_facebook","autosuggest_auth_linkedin","autosuggest_auth_twitter","autosuggest_contacts_import"],jtc_view:["jtc_article_click"]}},"1.0.0",{requires:["common-utils-rapid-clickmap"]});
YUI.add("boss-ult",function(e){e.mix(e.common.Utils.RapidCM,{boss_show_hover:["attrBar","leftRail","attrBar","opnHvr"],boss_hide_hover:["attrBar","leftRail","attrBar","clsHvr"],boss_show_key:["attrBar","leftRail","attrBar","opnKey"],boss_show_click:["attrBar","leftRail","attrBar","opnClk"],boss_hide_key:["attrBar","leftRail","attrBar","clsKey"],boss_hide_click:["attrBar","leftRail","attrBar","clsClk"],boss_change_theme:["attrBar","leftRail","attrBar","chngThm"],boss_show_themes:["attrBar","leftRail","attrBar","opnThms"],boss_hide_themes:["attrBar","leftRail","attrBar","clsThms"],boss_prev_thumbs:["attrBar","leftRail","attrBar","prvThmbs"],boss_next_thumbs:["attrBar","leftRail","attrBar","nxtThmbs"],boss_save_theme:["attrBar","leftRail","attrBar","svThm"],boss_show_zoom:["attrBar","leftRail","attrBar","opnZm"],boss_hide_zoom:["attrBar","leftRail","attrBar","clsZm"],boss_theme_category:["attrBar","leftRail","attrBar","chngCt"],boss_attr:["attrBar","leftRail","attrBar","attrLnk"],norrin_min_upsell_shown:["attrBar","leftRail","attrBar","upsellShown"],norrin_min_upsell_click:["attrBar","leftRail","attrBar","upsellClick"]}),e.mix(e.common.Utils.RapidVM,{boss:["boss_attr"]})},"1.0.0",{requires:["common-utils-rapid-clickmap","common-utils-rapid-viewmap"]});
YUI.add("mail-ui-boss",function(e){var t=NeoConfig,n="boss",r="boss-hide",i="boss",s=t.bossThemes,o=t.bossMt,u=[],a=t.bossSky,f=e.one("body"),l=f.one(".attribution-bar"),c=l.one(".attribution"),h=f.one(".boss-mask"),p=e.mail.Tabs,d,v,m,g,y=[],b;b=function(){function t(){return f.hasClass(n)}function b(t){t&&m&&t==="multitask"?m.show():d&&(d.show(),m&&m.arePreviewsEnabled()&&m.show()),e.fire("mt:view",{action:"boss"}),e.fire("boss:afterShow")}function w(t){e.fire("boss:pre-show"),f.addClass(n),document.activeElement.blur(),l.removeClass(r),y.push(f.on("keydown",L)),u.length?e.use(u,function(e){o&&(m=e.mail.ui.Boss.Multitask),s&&(d=e.mail.ui.Boss.Themes),b(t)}):b(t),a&&e.fire("darlaEvent",{action:"boss"}),g=Date.now()}function E(t){var r,i;while(y.length>0)y.pop().detach();m&&m.isActive()&&m.hide(),d&&d.isActive()&&d.hide(),t&&a&&(i=p.getActiveTab(),i&&(i.set("active",0),p.switchToTab(i))),f.removeClass(n),r=(Date.now()-g)/1e3,e.fire("util:ymstats",{name:"bossTimeActive",unit:"s",type:"duration",dataum:r}),e.fire("boss:hide")}function S(t){e.fire("boss:pre-hide"),v?v.disable(E):E(t)}function x(e){e&&e.cancel()}function T(t,n){e.fire("util:ymstats",{name:t,tags:{how:n}})}function N(n,r){t()?(S(!0),r?(e.fire("mt:click",{action:"boss_hide_key"}),T("bossHide","key")):(e.fire("mt:click",{action:"boss_hide_click"}),T("bossHide","click"))):(w(n),r?(e.fire("mt:click",{action:"boss_show_key"}),T("bossShow","key")):(e.fire("mt:click",{action:"boss_show_click"}),T("bossShow","click")))}function C(n){t()&&(S(!0),n.halt(),e.fire("mt:click",{action:"boss_hide_click"}),T("bossHide","mask"))}function k(n){var i=n.target;i.ancestor(".att-link")?(e.fire("mt:click",{action:"boss_attr"}),e.fire("util:ymstats",{name:"bossAttr"})):t()?(S(!0),n.halt(),e.fire("mt:click",{action:"boss_hide_click"}),T("bossHide","click"),l.addClass(r)):(w(),n.halt(),e.fire("mt:click",{action:"boss_show_click"}),T("bossShow","click"),l.removeClass(r))}function L(e){var n=!1;if(t()){switch(e.keyCode){case 27:N(null,!0),n=!0}n||m&&m.handleKeydown(e)&&(n=!0),n=!0}return n&&e.halt&&e.halt(),n}function A(){h.on("click",C),c.on("click",k),o&&u.push("mail-ui-boss-multitask"),s&&u.push("mail-ui-boss-themes"),e.on(i+":toggle",function(e){var t,n;e&&(t=e.mode,n=e.fromKey),N(t,n)}),e.on("nav:boss",function(e){N(null,e.keyCode?!0:!1)})}A(),e.mix(this,{toggle:N,isActive:t,hide:S,cancelTimer:x,handleKeydown:L})},e.namespace("mail.ui").Boss=new b},"1.0.0",{requires:["event-hover","mail-common-utils-features","boss-ult"]});
YUI.add("mail-ui-recorder",function(e){var t=0,n="yui_",r=5,i=NeoConfig.maxClickRecords||30,s=[],o=0,u=window.NeoGV||{},a=e.namespace("mail.ui"),f,l,c;c={normalizeForYmma:function(e){return typeof e!="string"&&(e&&e.toString?e=e.toString():e=""),e.substring(0,60).replace(/[^\w\d]/gi,"_")},getNearestAttribute:function(e,t,n){var r=e.getAttribute(t);if(r)return r;e=e.parentNode;while(e&&!r&&e.getAttribute&&(n===undefined||n>0))r=e.getAttribute(t),e=e.parentNode,n&&n--;return r},getNearestProperty:function(e,t,n){var r=e[t];if(!r||n&&typeof r=="string"&&r.indexOf(n)===0){e=e.parentNode;while(e&&(!r||n&&typeof r=="string"&&r.indexOf(n)===0))r=e[t],e=e.parentNode}return r},recordClickInfo:function(u){var l=u.el,h=l.nodeName,p=c.getNearestAttribute(l,"data-action")||"",d=c.getNearestProperty(l,"className")||"",v=c.getNearestProperty(l,"id",n)||"",m,g,y,b;if(a.Player&&a.Player.shouldIgnoreNode(l))return;return f&&(g=c.getNearestAttribute(l,"data-ck",3),g&&e.fire("mt:click",{action:g})),t++,v.indexOf(n)===0&&(v=n),y=h+"_"+p+"_I_"+v+"_C_"+d,m={clickNumber:t,dataAction:p,className:d,id:v,clientX:Math.round(u.clientX)||0,clientY:Math.round(u.clientY)||0,sig:y},t<=r&&(b={clickNumber:c.normalizeForYmma(t)},e.fire("util:ymstats",{name:"recorder",tags:b,unit:"milliseconds",type:"duration",dataum:u.time})),m.m="Record Click",m.time=u.time,s.push(m),s.length>i&&(s.shift(),o++),e.fire("rc:after"),m},recordClicks:function(){var e=u.clickRecord;while(e.length)c.recordClickInfo(e.shift())},getRecords:function(){return s},getClickRecord:function(e){var t=e-o;return s[t]?s[t]:!1},getLastClickSig:function(t){var n=s.length,r,i,o;return n>0?(r=s[n-1],i=c.normalizeForYmma(r.sig),f&&e.common.Utils.Rapid&&(o=e.common.Utils.Rapid.getClickKeyForTime(r.time),o&&(i+=":"+o)),t&&(r.error=1,e.common.Utils.features.enabled("statClickErrors")&&e.fire("util:ymstats",{name:"recorder_error",tags:{sig:o||r.sig}}),e.fire("MailLog",{m:"n="+r.clickNumber+","+"t="+r.time+","+"x="+r.clientX+","+"y="+r.clientY+","+"s="+i})),i):""},recordSignout:function(){u.clickRecord.push({el:e.one("#yucs-signout")?e.one("#yucs-signout").getDOMNode():document.body,time:Neo.performance.now(),clientX:0,clientY:0}),c.recordClicks()},overrideEventObject:function(){if(l||!Neo||!Neo.globalClickRecorder)return;var t=window.Event;t&&t.prototype&&t.prototype.stopPropagation?(t.prototype.oldStopPropagation=t.prototype.stopPropagation,t.prototype.stopPropagation=function(){return this.type==="click"&&Neo.globalClickRecorder(this),this.oldStopPropagation()},l=!0):e.fire("util:ymstats",{name:"windowEventMissing"})},init:function(){u.clickRecord||(u.clickRecord=[]),f=e.common.Utils.features.enabled("rapidUlt")||NeoConfig.isUltThrottled||NeoConfig.isRpdWithLH||NeoConfig.expBucketId!=="0",c.recordClicks(),e.on("rc",c.recordClicks,c),e.Global.once("ucs:signout",c.recordSignout),c.overrideEventObject()}},c.init(),e.namespace("mail.ui").Recorder=c},"1.0.0",{requires:["ymma-stats","common-utils","mail-common-utils-features"]});
YUI.add("mail-common-cachewarmer",function(e){e.namespace("mail.common.cachewarmer");var t=5e3,n=3e3,r=10,i=NeoConfig.pfm,s=50,o=e.Env._loader,u={isIdle:function(){return!0}},a=e.common.net.Session||u,f={},l=e.on("ds:msg:remove",function(e,t){if(e==="Inbox")for(var n in t)f[t[n].mid]=!0}),c={},h=e.on("ds:conv:remove",function(e,t){if(e==="Inbox")for(var n in t)c[t[n].cid]=!0}),p=e.common.Utils.features,d=function(e){try{return function(){this.queue[e].apply(this.queue,arguments)}}catch(t){typeof globals!="undefined"&&globals.report?globals.report("caughterror:..-build-mail-common-cachewarmer:1",t,"TRY_CATCH",1,1,1):window.console&&console.log&&console.log("caughterror:..-build-mail-common-cachewarmer:1")}return!1};e.mail.common.cachewarmer={queue:function(){var t=new e.AsyncQueue;return t.defaults.timeout=s,t}(),add:function(){return this.queue.add.apply(this.queue,arguments),this},run:function(){return this.queue.add(this.queue.stop),this.queue.run(),this},clear:function(){this.queue.stop(),e.detach("cachewarmer:stopMessagePrefetch")},warmUp:function(t,n,i,s){return i&&this.addDelay(i),!s&&this.addIdleCheck(r,!0),e.Lang.isArray(n)&&n.length?(this.queue.add({fn:function(){e.use.apply(e,n)},timeout:10,id:t}),this):!1},addDelay:function(e){return e?(this.queue.add({fn:function(){},timeout:e}),!0):!1},addIdleCheck:function(e,t){var n=0,i=this.queue;return e=e||r,i.add({fn:function(){n++},timeout:400,until:function(){return a.isIdle()&&(!o||!o._loading)?!0:n===e?(t||i.stop(),!0):!1}}),!0},setupLaunch:function(e){return this.addDelay(e?n:t),this.addIdleCheck(),!0},preFetchMessages:function(e,t,n,r){if(NeoConfig.hasConv)return;return this.clear(),n&&this.addDelay(n),e==="Inbox"&&!t?this.addInboxPreFetching():this._preFetchMessages(e,t,r),this.run()},addInboxPreFetching:function(){var t=this;NeoConfig.hasConv&&NeoConfig.hasConvPerf?t._preFetchConvs("Inbox",e.mail.ui.ConvList.getConvHdrList(),null,!0):NeoConfig.hasConv||t._preFetchMessages("Inbox",e.mail.ui.MessageList.getMsgHdrList(),null,!0)},_preFetchConvs:function(t,n,r,s){function w(n,r,i){var s=function(){var s=[],o;for(o in n)c[n[o].cid]||s.push(n[o]);if(s.length>0)if(p.enabled("yodaConversationRead")&&NeoConfig.loadYodaController)NeoConfig.loadYodaController.then(function(){e.mail.controller.v3.api.getConversations({items:s,getDisplay:!0,isPrefetchCall:!0,showTAE:!1,statTAE:!1,success:function(){r&&e.fire("launch:messagePrefetchCompleted")}})});else{f=e.mail.Controller.batch(),f.setAsReadOp(!0);for(o=0;o<s.length;o++)e.mail.model.ConvStore.Conversations.isCached(t,s[o].cid)||e.mail.Controller.Conversations.batchAddConvPrefetch(f,o,t,s[o],"CacheWarmer");f.execute({suppressCodes:["*"],backgroundLogs:["*"]})}r&&e.detach(i)};this.timeout=100,this.id="convsPrefetch",this.fn=s}var o,u,a=[],f,l,d,v,m=i.batch.split(","),g=i.count,y=i.maxSize,b=e.mail.ui.ConvList;r&&r[0]?a=r:b&&n&&b.getNeighbors(n,-1,a,t,g,y);while((v=m.shift()||10)&&(d=a.splice(0,v))&&(u=d.length)){l=[];for(o=0;o<u;o++)l.push(d[o]);this.addIdleCheck(5,!0),this.queue.add(new w(l,s,h))}return e.once("cachewarmer:stopMessagePrefetch",function(t){var n=["convsPrefetch"];this.queue.remove("convsPrefetch"),this.clear(),!e.Lang.isUndefined(t)&&e.Lang.isFunction(t.done)&&(e.Lang.isUndefined(t.data)||n.push(t.data),t.done.apply(this,n))},this),this.queue.on("complete",function(){e.detach("cachewarmer:stopMessagePrefetch")}),!0},_preFetchMessages:function(t,n,r,s){function o(n,r,i){var s=function(){var s=[];for(var o in n)f[n[o].mid]||s.push(n[o]);s.length>0&&(NeoConfig.yodaReadEnabled&&NeoConfig.yodaControllerLoaded?e.mail.controller.v3.api.getSimpleBodyofMessages({messageList:s,sourceFid:t,isPrefetchCall:!0,statTAE:!1,showTAE:!1,success:function(){r&&e.fire("launch:messagePrefetchCompleted")}}):e.mail.Controller.Messages.get({fid:t,prefetch:s,cachekey:"CacheWarmer"},{suppressCodes:["*"],backgroundLogs:["*"]})),r&&e.detach(i)};this.timeout=10,this.id="messagePrefetch",this.fn=s}if(!i||NeoConfig.hasConv)return!1;NeoConfig.grid&&(i.batch="6,6",i.count=12);var u,a,c=[],h,p,d,v=i.batch.split(","),m=i.count,g=i.maxSize,y=e.mail.ui.MessageList;r&&r[0]?c=r:y&&n&&y.getNeighbors(n,-1,c,t,m,g);while((d=v.shift()||10)&&(p=c.splice(0,d))&&(a=p.length)){h=[];for(u=0;u<a;u++)h.push(p[u]);this.addIdleCheck(5,!0),this.queue.add(new o(h,s,l))}return e.once("cachewarmer:stopMessagePrefetch",function(t){var n=["messagePrefetch"];this.queue.remove("messagePrefetch"),this.clear(),!e.Lang.isUndefined(t)&&e.Lang.isFunction(t.done)&&(e.Lang.isUndefined(t.data)||n.push(t.data),t.done.apply(this,n))},this),this.queue.on("complete",function(){e.detach("cachewarmer:stopMessagePrefetch")}),!0},before:d("before"),on:d("on"),after:d("after"),fire:d("fire")}},"1.0.0",{requires:["async-queue","loader","common-net-session","mail-controller-messages","mail-common-utils-features"]});
YUI.add("contacts-ui-contactsevents",function(B){B.namespace("contacts.ui");var A=function(){var E=this,D=[{name:"contacts:api:contactChanged",showContactsTab:false,contactsView:null},{name:"ct:add_contact",showContactsTab:true,contactsView:"create_update_contact"},{name:"ct:view_contact",showContactsTab:true,contactsView:"view_contact"},{name:"ct:manage_updates",showContactsTab:true,contactsView:"manage_updates"},{name:"ct:import_contacts",showContactsTab:true,contactsView:"contact_import_landing"},{name:"ct:view_connections",showContactsTab:true,contactsView:"view_connections"},{name:"themes:change",showContactsTab:false,contactsView:null},{name:"tabs:toggle",showContactsTab:false,contactsView:null}],C=[{name:"contacts:contactChanged"},{name:"newMessage"},{name:"iframe:loaded"},{name:"contacts:sendSms"},{name:"contacts:sendIM"},{name:"contacts:shortcut"},{name:"contacts:launchrtcomplete"}];B.mix(E,{eventsFromSab:C,eventsToSab:D});};B.contacts.ui.contactsEvents=new A();},"1.0.0");YUI.add("contacts-ui-contactsview",function(e){var t=function(n){function f(t){i=e.one(t),i.append(o),r.contactsTabNode=e.one("#abIframeTab"),h()}function l(e){a=e||{},c()}function c(){var t,n=NeoConfig.theme?NeoConfig.theme.id:"";NeoConfig.mintyAB?n?(t=!NeoConfig.cssSuffix||NeoConfig.cssSuffix===""?"dev":NeoConfig.cssSuffix,t=t.replace("_",""),u+="/yab-fe/mu/MainView?.src=neo&themeName="+n+"&bn="+t+"&s="+(NeoConfig.isSSL?1:0)):u+="/yab-fe/mu/MainView?.src=neo":u="/yab-fe/?.src=neo",u+="&pc=1&bucketId="+NeoConfig.expBucketId,u+="&stab="+Date.now(),o=e.Node.create('<div class="content" style="width:100%;height:100%;overflow:hidden"><iframe  target="_blank" allowtransparency="true" frameborder="0" vspace="0" hspace="0" style="background-color: transparent; width: 100%; height: 100%; " id="abIframeTab" src="'+u+'"/>'+"</div>")}function h(){e.common.Utils.features.enabled("shuttleCloudBadge")&&!e.mail.persist.MetaData.get("neo.pref.shuttleCloudBadge")&&(e.mail.persist.MetaData.set("neo.pref.shuttleCloudBadge",!0),e.one(".nav-item-contacts .contacts-flag").addClass("hidden"),d())}function p(){var t=e.common.Utils.escapeStringField(NeoConfig.userDataObj.userSendPref.firstName);return t.length>15&&(t=t.substring(0,14)+"..."),t}function d(){var t='<button id="{{btnID}}ModalOverlay" class="btn left right default" role="button" data-action="{{btnID}}">{{btnLabel}}</button>';e.fire("util:ymstats",{name:"shuttlecloud_callout_dailog",tags:{action:"show"}}),e.use("common-ui-dialog-helper",function(e){e.once("iframe:loaded",function(){var n=e.common.Utils.substitute,r=n(t,{btnID:"contactsImport",btnLabel:strings.str_shuttlecloud_contacts_import}),i={modal_classes:"contactsImportDialog",hd:strings.str_shuttlecloud_hd.replace("{{user_name}}",p()),bd:strings.str_shuttlecloud_bd.replace("{{count}}",200).replace("{{str_branding_mail}}",strings.str_branding_mail),ft:r},s={contactsImport:{handler:function(){var t="contacts:open_import_contacts";e.fire("util:ymstats",{name:"shuttlecloud_callout_dailog",tags:{action:"click",target:"open_import_contacts"}}),e.one("#abIframeTab").fire(t,{type:t})}}};e.common.ui.DialogHelper.createCommon(i,s)})})}var r=this,i,s=null,o,u="",a=n||{};r.contactsTabNode=null,c(),t.superclass.constructor.call(r),e.mix(r,{NAME:"ContactsView",render:f,contactsTab:s,updateConfig:l},!0),r.set("hideToolbar",1)};e.extend(t,e.mail.ui.BaseWidget),e.namespace("contacts.ui"),e.contacts.ui.ContactsView=null,e.contacts.ui.getContactsViewInstance=function(n){return e.contacts.ui.ContactsView?e.contacts.ui.ContactsView:(e.contacts.ui.ContactsView=new t(n),e.contacts.ui.ContactsView)}},"1.0.0",{requires:["mail-ui-basewidget","mail-common-utils-features","mail-persist-meta-data","node-event-simulate"]});
YUI.add("contacts-ui-contactseventstranslator",function(e){e.namespace("contacts.ui");var t=function(){function n(e,t){var n=e.contactsView,r,i=null;return n&&(t&&t.args&&t.args.ids&&(r=t.args.ids.join(",")),i={vpc:n,params:r}),i}function r(t,r){e.contacts.ui.ContactsView&&e.contacts.ui.ContactsView.contactsTab?t.showContactsTab&&e.contacts.ui.ContactsView.contactsTab.get("active")!==1&&e.contacts.ui.ContactsView.contactsTab.set("active",1):t.showContactsTab&&e.fire("openContacts",n(t,r))}function i(t){e.Global.on(t.name,function(n){e.fire(t.name,n)})}function s(t){e.on(t.name,function(n){e.contacts.ui.ContactsView&&e.contacts.ui.ContactsView.contactsTab&&(n?e.mix(n,{type:t.name}):n={type:t.name},NeoConfig.mintyAB?e.one("#abIframeTab").fire(t.name,n):e.Global.fire(t.name,n)),r(t,n)})}function o(){var t,n;t=e.contacts.ui.contactsEvents.eventsToSab;for(n in t)t.hasOwnProperty(n)&&s(t[n]);t=e.contacts.ui.contactsEvents.eventsFromSab;for(n in t)t.hasOwnProperty(n)&&i(t[n])}function u(t){var n=e.contacts.ui.ContactsView,r=n?n.contactsTabNode:null;r&&r.simulate("keydown",t.event)}var t=this;e.augment(t,e.EventTarget),e.on("contacts:shortcut",u),o()};e.contacts.ui.contactsEventTranslator=new t},"1.0.0",{requires:["contacts-ui-contactsevents","contacts-ui-contactsview","mail-common-utils-features"]});
YUI.add('newsfeed_strings', function(Y) {
Y.namespace("mail");
Y.mix(strings,{"str_newsfeed_welcome_evening":"Good evening, {{firstname}}","str_newsfeed_welcome_afternoon":"Good afternoon, {{firstname}}","str_newsfeed_welcome_morning":"Good morning, {{firstname}}","str_breaking_news_toggle_on":"Turn off breaking news alert","str_breaking_news_toggle_off":"Turn on breaking news alert","str_newsfeed_breaking_news":"BREAKING NEWS","str_newsfeed_breaking_minutes_ago":"{{mins}} mins ago","str_newsfeed_email":"email this","str_newsfeed_all_stories":"All Stories","str_newsfeed_news":"News","str_newsfeed_finance":"Finance","str_newsfeed_entertainment":"Entertainment","str_newsfeed_sports":"Sports","str_newsfeed_lifestyles":"Lifestyles","str_newsfeed_technology":"Technology","str_newsfeed_science":"Science","str_newsfeed_tumblr":"Reblog","str_newsfeed_twitter":"Tweet","str_newsfeed_pinterest":"Pin it","str_newsfeed_facebook":"Share","str_newsfeed_loading_error":"There appears to be a problem loading the newsfeed","str_newsfeed_weather_in":"{{description}} in {{city}}"});
}, '1.0.0');YUI.add("mail-ui-mb-model",function(e){var t=e.common.net.SessionMgr,n=6e5,r=e.Node.one("#theAd"),i=e.common.Utils,s=i.escapeHtml,o=i.getSegmentData("webMail").currSegScore,u=NeoConfig.intl+(NeoConfig.partnerType?"_"+NeoConfig.partnerType:""),a=50,f=70,l=function(){};l.prototype={init:function(t){return this.isCached=t.isCached,this.sectionId=t.sectionId,this.viewType=t.viewType,this.currentAds=NeoConfig.moneyball?[NeoConfig.moneyball]:[],this.viewType==="native_view"&&i.features.enabled("geminiViewability")&&(this._isAppVisible=!0,e.on("mail:navigateOut",this._updateIsAppVisible.bind(this,!1)),e.on("mail:navigateIn",this._updateIsAppVisible.bind(this,!0)),this._handleNewAd()),this.creativeId=i.settings.value("mbCreativeId"),this.creativeId&&(this.creativeId=parseInt(this.creativeId,10)),this.isCached&&this.execute({fetchOnly:!0}),this},_updateIsAppVisible:function(e){this._isAppVisible=e},statMBAdCall:function(t){e.fire("util:ymstats",{name:"moneyball_adcall_made",tags:{status:t,section:this.sectionId,intl:u,segmentation:o}})},parseAdResponse:function(e){var t=[],n;if(e.ads){for(var r=0;r<e.ads.length;r++)n=e.ads[r],n=this._parseAdTag(n,r),n&&t.push(n);if(t.length)return this.statMBAdCall("success_displayed"),t}this.statMBAdCall("failure_noads")},_parseAdTag:function(t,n){var r,o,u,a,f,l,c,h,p="",d,v,m;if(t&&t.tag){try{u=e.JSON.parse(t.tag)}catch(g){typeof globals!="undefined"&&globals.report?globals.report("caughterror:..-build-mail-ui-moneyball-mbModel:1",g,"TRY_CATCH",1,1,1):window.console&&console.log&&console.log("caughterror:..-build-mail-ui-moneyball-mbModel:1");return}return h=this._isCreativeVideo(t),h&&(c=this._getVideoAssetInfo(u),p=u&&u.callToAction?u.callToAction:""),a=t.beacon.replace("$(AD_POSN)",n+1),u.secThumbnailImage&&u.secThumbnailImage.indexOf("https://")!==-1?r=u.secThumbnailImage:r=u.secImage||this._secureImageUrl(u.image),o=u.secHqImage||this._secureImageUrl(u.hqImage),l=this._getAssetInfo(u),m=this._getAssetActionString(t,u,l),f=this._getActionBeacons(t,l),v=this._getEmbeddedUrlInfo(u),h=this._isCreativeVideo(t),h&&(c=this._getVideoAssetInfo(u),p=u&&u.callToAction?u.callToAction:"",l&&l.usageType==="VIDEO_PREVIEW"&&l.contentType==="video/mp4"&&(d=l.url?l.url:"")),{ad_headline:s(u.headline),ad_summary:s(u.summary),ad_img:r,ad_source:s(u.source),c_uuid:u.c_uuid,hash:u.hash,tStamp:u.tStamp,image_width:u.imageWidth,image_height:u.imageHeight,resized_hq_image:u.resizedHqImageUrl,hq_image:o,hq_image_width:u.hqImageWidth,hq_image_height:u.hqImageHeight,click_url:u.clickUrl,action_beacons:f,landing_url:u.landingUrl,imp_tracking_url:u.imprTrackingUrls?"":u.imprTrackingUrl,imp_tracking_urls:u.imprTrackingUrls||[],ad_choices_url:u.adChoicesUrl,imp_tracking_pixels:this._getMBImpTrackingPixels(u.imprTrackingUrls),creative_id:t.creativeId,beacon:a,feedback_beacon:u.ad_feedback_beacon,ad_feedback:i.features.enabled("mbAdFeedback"),ri:t.ri,sponsored_url:strings.str_cfg_url_about_adchoices,str_srch_sponsored:strings.str_srch_sponsored,str_sponsored_by:strings.str_sponsored_by,str_native_star:strings.str_native_star,str_native_delete:strings.str_native_delete,str_native_search:strings.str_native_search,str_native_feedback:strings.str_native_feedback,str_done:strings.str_done,str_skip:strings.str_skip,asset_type:l?l.contentType:"",asset_url:l?l.url:"",asset_usagetype:l?l.usageType:"",beacons_enabled:!i.features.enabled("geminiViewability"),carousel:u.carousel,mb_asset_action:m,embedded_click_urls:v,video_ad:d,video_assets:c,video_asset_action:s(p),moneyball_list_bg:i.settings.value("moneyballColor"),override_classes:i.features.enabled("newsFeedMBTransparency")?"mb-background-transparency":"",rules:t.rules}}},_getEmbeddedUrlInfo:function(t){var n,r;return e.Lang.isArray(t.assets)&&t.assets.length>0?(n=t.assets,n.forEach(function(t){e.Lang.isObject(t)&&e.Lang.isValue(t.usageType)&&e.Lang.isArray(t.embeddedLandingUrls)&&t.usageType==="HTML_PRIMARY"&&(r=e.Array.map(t.embeddedLandingUrls,function(n){if(e.Lang.isString(n.url))return n.usageType=t.usageType,n}))}),r):null},_getAssetActionString:function(e,t,n){var r="";if(n||this._isSponsoredAd(e)||this._isCreativeVideo(e)||i.features.enabled("mbLearnMoreAll"))if(n&&n.usageType)return t.callToAction?s(t.callToAction):strings.str_mb_asset_action_html;return r},_secureImageUrl:function(t){return t?e.Lang.trim(t).replace(/^http:\/\/l\d?\./,"https://s.")||"":""},_getMBImpTrackingPixels:function(t){var n="";if(!t||!e.Lang.isArray(t))return n;for(var r=0;r<t.length;r++)n+=r>0?"\n":"",n+='<img class="mb-beacon" src="'+t[r]+'" width="1" height="1" alt="" />';return n},_getCreativeId:function(e){return i.settings.value("mbCreativeId")?i.settings.value("mbCreativeId"):e.creative_id},_isSponsoredAd:function(e){return i.features.enabled("mbTemplatePreview")||e.asset_url||e.carousel},_isCreativeVideo:function(e){var t=e&&e.ccCode&&e.ccCode==="STRM_VIDEO";return i.features.enabled("videoSponsoredMessage")&&t},_getVideoAssetInfo:function(t){var n,r,s,o=i.features.enabled("videoSponsoredMessage"),u=[],a;if(e.Lang.isArray(t.assets)&&t.assets.length>0){for(n=0;n<t.assets.length;n++){s=t.assets[n];if(e.Lang.isObject(s)&&e.Lang.isValue(s.usageType)&&e.Lang.isArray(s.mediaInfo)&&o&&s.usageType==="VIDEO_PRIMARY")for(r=0;r<s.mediaInfo.length;r++)a=s.mediaInfo[r],e.Lang.isString(a.url)&&(a.usageType=s.usageType,u.push(a))}return u}return null},_getAssetInfo:function(t){var n,r,s,o;if(t.carousel)return{usageType:"MULTI_IMAGE_"};if(e.Lang.isArray(t.assets)&&t.assets.length>0)for(n=0;n<t.assets.length;n++){s=t.assets[n];if(e.Lang.isObject(s)&&e.Lang.isValue(s.usageType)&&e.Lang.isArray(s.mediaInfo)&&(s.usageType==="HTML_PRIMARY"||i.features.enabled("leadsGenAd")&&s.usageType==="LEADSGEN_HTML"||i.features.enabled("videoSponsoredMessage")&&s.usageType==="VIDEO_PREVIEW"))for(r=0;r<s.mediaInfo.length;r++){o=s.mediaInfo[r];if(e.Lang.isString(o.url))return o.usageType=s.usageType,o}}return null},_getActionBeacons:function(t){var n,r,s;return n=i.getVal(t,"actionUrls"),n&&
Object.keys(n).forEach(function(i){s=n[i],s&&e.Lang.isArray(s)&&s.length&&(i==="STATIC_VIEW_3P"&&t.rules&&(s[0]=s[0].replace("$(S_VIEW_TYPE)",t.rules.viewabilityDefStatic3P[0].t)),r=r||{},r[i]=s[0])}),r},_getActionBeacon:function(e,t){var n=e.action_beacons&&e.action_beacons[t],r,s;return n&&(e.asset_usagetype==="HTML_PRIMARY"||e.asset_usagetype==="VIDEO_PREVIEW")&&i.features.enabled("mbSponsorBeacons")?(t==="IMPR_INTERNAL"?(r="$(impr_label)",s="msm_open"):t==="CLICK_INTERNAL"&&(r="$(click_label)",s="msm_click"),r?n.replace(r,s):n):null},_adBlockDetected:function(){var t=0;return e.mail.Tabs.getActiveTab().widget.type==="newsfeedtab"&&(t=1),!NeoConfig.vertPane&&NeoConfig.hasAds&&r&&r.get("clientHeight")===0&&!t?!0:!1},execute:function(n){n=n||{},this.isCached&&!n.fetchOnly&&(this.cachedAds?this._triggerAdEvent(this.cachedAds):this._setNoAdState(!0));if(this.req)return;n.numAds=n.numAds||1;var r,s,o=i.features.enabled("videoSponsoredMessage"),u=n.numAds,a=NeoGV&&NeoGV.sp?NeoGV.sp:"978500286",f="||"+a+"|STRM|",l=1,c=this.sectionId,h=o?"STRM,STRM_VIDEO":"STRM",p=o?"video/mp4,application/vnd.apple.mpegurl":"",d=NeoConfig.launchPVID+Date.now(),v=NeoConfig.lang.substr(0,2),m=NeoConfig.lang==="zh-Hant-HK"||NeoConfig.lang==="zh-Hant-TW"?"zh_TW":v,g=["bk="+this._getBucketTrackingId(),"ve=2","ic=1","sz=3x3","nc=1","tt=1","se="+c,"im=63","cc="+h,"ct="+p,"tk="+u,"ui=mail","sl="+m,"co="+NeoConfig.intl,"ri="+d,"pb="+f,"hs="+l];n.fbIds&&g.push("cf="+n.fbIds),this.creativeId&&!i.features.enabled("mbTemplatePreview")&&g.push("ff="+this.creativeId),i.features.enabled("mbSubscriptionAd")&&g.push("sn=1"),r=NeoConfig.mailEnv!=="dev"?NeoConfig.scriptBase+"/mbads?":NeoConfig.mbEndPoint,r+=g.join("&"),s=e.bind(this._handleResponse,this,n),this.req=t.requestProxy(r,{on:{success:s,failure:s},method:"GET",service:"mb",serviceCredType:"loose",timeout:2e3}),this._responseStart=(new Date).getTime()},_triggerAdEvent:function(e){if(NeoGV.mbToggle&&this.sectionId===NeoConfig.mbSectionId)return;this.fire("adsReady",e),this.currentAds=e,this.viewType==="native_view"&&i.features.enabled("geminiViewability")&&this._handleNewAd(),this._setNoAdState(!1)},_setNoAdState:function(e){NeoGV=NeoGV||{},NeoGV.mbNoAdStates=NeoGV.mbNoAdStates||{},NeoGV.mbNoAdStates[this.sectionId]=e},_getBucketTrackingId:function(){return NeoConfig.mbExpColor?NeoConfig.mbExpColor.replace("#",""):NeoConfig.expBucketId},_handleResponse:function(t,n,r){var s=e.common.Utils.json,a,f;this.req=null,this._logResponseTime();switch(r&&r.status){case 200:f=s.tryParse(r.responseText,function(n,r){e.fire("SplunkLog","moneyball_parsejson_failure",{errorMessage:r.message,requestParams:t,responseText:n},i.settings.value("SplunkLogLevel","sample")),e.fire("util:ymstats",{name:"moneyball_parsejson_failure",tags:{intl:u,segmentation:o}})});break;case-1:this.statMBAdCall("failure_timeout");break;default:this.statMBAdCall("failure_netfailure")}f&&(a=this.parseAdResponse(f)),a?this.isCached?this._setCachedAds(a):this._triggerAdEvent(a):(this.isCached||this._setNoAdState(!0),this.fire("noAdReturned"))},_logResponseTime:function(){var t;if(!this._responseStart)return;t=(new Date).getTime()-this._responseStart,e.fire("util:ymstats",{name:"moneyball_adcall_responsetime",unit:"ms",type:"duration",dataum:t,tags:{intl:u,segmentation:NeoConfig.currentSegScore}})},_setCachedAds:function(e){var t=this;t.cachedAds=e,clearTimeout(t.ttlTimerId),t.ttlTimerId=setTimeout(function(){clearTimeout(t.ttlTimerId),t.cachedAds=null,t.execute({fetchOnly:!0})},n)},handleViewabilityBeacons:function(t){var n=this,r=e.Object.some(n._beaconsFired,function(e){return!e}),s,o;if(i.features.enabled("geminiViewability")&&r&&!n._isAdHidden()){if(typeof t=="undefined"){s=e.one("div.list-view-items");if(!s)return;t=s.get("scrollTop")}o=n._getPercentVisibility(t);for(var u in n._beaconsFired)n._shouldFireViewabilityBeacon(u,o)&&(n._fireViewabilityBeacon(u),n._beaconsFired[u]=!0)}},_shouldFireViewabilityBeacon:function(e,t){var n=this,r=Date.now(),i=n.currentAds[0],s;if(e==="partialView")return i.action_beacons&&i.action_beacons.PARTIAL_VIEW&&!n._beaconsFired[e]&&t>0;if(i.rules&&Object.keys(i.rules).length!==0)return s=e==="viewabilityDefStatic3P"&&i.rules[e]?i.rules[e][0]:i.rules[e],s&&!n._beaconsFired[e]&&r-n._adRenderTime>=s.d*1e3&&t>=s.p},_getPercentVisibility:function(t){var n=NeoConfig.vertPane?f:a,r=e.one("div#coupons_div"),i=e.one("div.list-view-items-page"),s=!r||!i?0:i._node.offsetTop,o=n+s-t;return t<s?100:o<=0?0:Math.floor(o/n*100)},_isAdHidden:function(){var t=this,n;return!t._isAppVisible||!e.one("div#slot_MB")||e.one("div#inboxcontainer.offscreen")?!0:(n=e.one("div#slot_MB")._node.getBoundingClientRect(),!(n.top>=0&&n.left>=0&&n.bottom<=window.innerHeight&&n.right<=window.innerWidth))},_fireBeacon:function(e){var t=new Image;t.src=e},_fireViewabilityBeacon:function(t){var n=this,r=n.currentAds[0];r&&(t==="viewabilityDefStatic"?(r.imp_tracking_urls?e.Array.forEach(r.imp_tracking_urls,function(e){e&&n._fireBeacon(e)}):r.imp_tracking_url&&n._fireBeacon(r.imp_tracking_url),n._fireBeacon(r.beacon)):t==="viewabilityDefStatic3P"&&r.action_beacons?n._fireBeacon(r.action_beacons.STATIC_VIEW_3P):t==="partialView"&&r.action_beacons&&n._fireBeacon(r.action_beacons.PARTIAL_VIEW))},_handleNewAd:function(){var e=this,t=e.currentAds[0],n=t?t.action_beacons:null,r,i;e._adRenderTime=Date.now(),e._beaconsFired={viewabilityDefStatic:t?!t.beacon:!1,viewabilityDefStatic3P:n?!n.STATIC_VIEW_3P:!0,partialView:n?!n.PARTIAL_VIEW:!0},t&&t.rules&&Object.keys(t.rules).length!==0&&(r=t.rules.viewabilityDefStatic,i=t.rules.viewabilityDefStatic3P,clearTimeout(e._initialVBeaconCheck),clearTimeout(e._initialV3PBeaconCheck),e._initialVBeaconCheck=setTimeout(e.handleViewabilityBeacons.bind(e),r.d*1e3),e._initialV3PBeaconCheck=i?setTimeout(e.handleViewabilityBeacons.bind(e),i[0].d*1e3):null),e.handleViewabilityBeacons()}},e.augment(l,e.EventTarget),e.namespace("mail.ui"),e.mail.ui.mbModel=l},"1.0.0",{requires:["common-net-sessionmgr","common-utils"
,"event-base","mail-common-utils-features","mail-common-utils-settings","common-utils-jsonparse"]});
YUI.add("mail-ui-mb-view",function(e){function i(){var e=NeoConfig.launchPVID.replace(/[^a-zA-Z]/g,""),t=e.length,n,r="";for(n=8;n<t;n++)n%2===0&&(r+=e.charAt(n));return r}var t=e.common.Utils,n=t.getSegmentData("webMail").currSegScore,r=function(){this.stopAdRot=!1};r.extend=function(t){var n=function(){};return e.extend(n,this,t),n.extend=r.extend,n},r.prototype={statName:"",init:function(n){n=n||{},this.model=(new e.mail.ui.mbModel).init({sectionId:this.sectionId,isCached:this.hasCachedModel,viewType:n.viewType}),e.on(this._adEvent,e.bind(this._adEventHandler,this),this),this.model.on("adsReady",this.render,this),this.model.on("noAdReturned",this.stat,this,"noAdReturned"),n.viewType==="native_view"&&t.features.enabled("geminiViewability")&&e.on("listview:scroll",function(e){this.model.handleViewabilityBeacons(e.scrollTop)},this),this._bindClickHandler(this._getContainer()),this._bindEvents(),this._initComplete()},_adEventHandler:function(){this.model.execute(),this.stat("renderAttempt")},_getContainer:function(){var t,n;this.container&&!this.container.inDoc()&&(this.container.detachAll(),this.container.destroy(!0),this.container=null);if(this._allowMultiple){t=this._getRootNode();if(t){n="."+this.shellId;switch(this.rootNodePosition){case"after":this.container=t.next(n);break;case"before":this.container=t.previous(n);break;default:this.container=t.one(n)}}}else this.container=this.container||e.one("#"+this.shellId);return this.container?this.container:this._createContainer()},_createContainer:function(){var t=this._allowMultiple?"class":"id",n=this._getRootNode(),r=NeoConfig.ccAb&&i()||"slot_MB";if(n)return this.container=e.Node.create("<div "+t+'="'+this.shellId+'">'),r===this.shellId&&this.container.addClass("ml-bg"),this.rootNodePosition==="before"||this.rootNodePosition==="after"?n.insert(this.container,this.rootNodePosition):NeoConfig.rearrangeMb&&!n.hasClass("list-view-items")?n.insert(this.container,"after"):n.prepend(this.container),this._bindClickHandler(this.container),this.container},_containerPresent:function(){return this.container&&this.container._node&&this.container.inDoc()},_getRootNode:function(){var t,n,r;if(!e.Lang.isArray(this.rootNodeSelector))return e.one(this.rootNodeSelector);for(n=0,r=this.rootNodeSelector.length;n<r;n++){t=e.one(this.rootNodeSelector[n]);if(t)return t}},_bindClickHandler:function(t){var n=this;if(!t)return;t.delegate("click",function(t){e.fire("mt:click",{action:NeoConfig.hasConv?"mb_ad_thrd":"mb_ad",append:{crtvid:t.currentTarget.getData("creative-id")}}),n.stat("clicked")},".adlink")},_bindEvents:function(){},render:function(t){var n,r,i;if(!t||!t.length)return;n=this._getAdHtml(t),r=this._getContainer();if(!r)return;this._preRender(),i=e.Node.create("<div></div>"),i.setHTML(n),this._applyBucketLogic(i),r.setHTML(i.getHTML()),this.stat("renderSuccess"),this._postRender(t)},_getAdHtml:function(e){var t=e[0];return this.substituteWithConditionals(this.template,t)},substituteWithConditionals:function(n,r){return e.Object.each(n,function(e,i){if(i.indexOf("has_")===0){var s=i.replace(/^has_/,""),o=/_else$/;if(i.search(o)>=0){var u=i.replace(o,"");r[u]||(r[u]=t.substitute(n[i],r))}else r[i]=r[s]?t.substitute(n[i],r):""}}),t.substitute(n.base,r)},_applyBucketLogic:function(){},_postRender:function(){},_preRender:function(){},_initComplete:function(){},_getCurrentAd:function(){var e=this;return e.model.currentAds[0]?e.model.currentAds[0]:NeoConfig.moneyball},destroyAd:function(){this.container&&this.container.setHTML("")},show:function(){this._containerPresent()&&this.container.show(),e.fire("mbAdEvent:shown")},hide:function(){this._containerPresent()&&this.container.hide()},stat:function(t){if(this.statName){var r,i=(new Date).getHours();switch(t){case"renderAttempt":r="Called";break;case"renderSuccess":r="Success";break;case"noAdReturned":r="NoAd";break;case"clicked":r="Clicked"}r&&e.fire("util:ymstats",{name:this.statName,tags:{status:r,uh:i,segmentation:n}})}},stopAdRotation:function(){this.stopAdRot=!0,this.srcFid=e.mail.Tabs.getActiveTab().widget.fid},enableAdRotation:function(){this.stopAdRot=!1},isAdRotationEnabled:function(){return!this.stopAdRot}},e.namespace("mail.ui"),e.mail.ui.mbView=r},"1.0.0",{requires:["node","mail-ui-mb-model","common-utils","node-event-delegate"]});
YUI.add("minty_module_list_view_ad_mb",function(e){e.namespace("ui.Templates"),e.ui.Templates.minty_module_list_view_ad_mb={base:'<div class="mb-list-ad" title="" data-id="{{respCreativeId}}"> <a href="{{click_url}}" tabindex="-1" target="_blank" class="adlink" data-creative-id="{{creative_id}}"> <div class="flex"> <span class="title">{{ad_source}}</span> <span class="subj">{{ad_headline}}</span> </div> </a> <a href="{{sponsored_url}}" tabindex="-1" target="_blank" class="icon mb-icon adchoices mb-animate"></a> <a href="{{sponsored_url}}" tabindex="-1" target="_blank" class="sponsor adchoices"> {{str_srch_sponsored}} </a> {{has_beacons_enabled}}</div>',has_imp_tracking_url:'<img class="mb-beacon" src="{{imp_tracking_url}}" width="1" height="1" alt="" /> ',has_beacons_enabled:'<img class="mb-beacon" src="{{beacon}}" width="1" height="1" alt="" /> {{has_imp_tracking_url}} {{imp_tracking_pixels}} '}},"1.0.0");
YUI.add("minty_module_list_view_ad_mb_native",function(e){e.namespace("ui.Templates"),e.ui.Templates.minty_module_list_view_ad_mb_native={base:'<div class="mb-list-ad mb-native-ad mb-with-img {{moneyball_list_bg}}" data-creative-id="{{creative_id}}"> <div class="fixed start" data-action="check"> <div id="mb-cbox-div" class="cbox" role="gridcell" data-action="check"> <input type="checkbox" role="checkbox" class="mb-checkbox" data-action="check"/> <span class="icon" aria-hidden="true" data-action="check"></span> </div> </div> <div class="flex"> <div class="title mb-table-wrap" title="{{ad_source}}"> <div class="mb-table-inner"> <div class="mb-header"> <span class="name">{{ad_source}}</span> </div> <div class="mb-sub-header mb-sponsored" data-action="mb-redirect"> {{str_srch_sponsored}} <i class="icon icon-info mb-native-info"> </i> </div> </div> </div> <div class="subj mb-table-wrap" title="{{ad_summary}}"> <div class="mb-table-inner"> <div class="mb-header">{{ad_headline}}</div> <div class="mb-sub-header">{{ad_summary}}</div> </div> </div> </div> <i class="icon mb-icon mb-icon-right adchoices mb-sponsored" data-action="mb-redirect"></i> {{has_beacons_enabled}}</div>',has_imp_tracking_url:'<img class="mb-beacon" src="{{imp_tracking_url}}" width="1" height="1" alt="" /> ',has_beacons_enabled:'<img class="mb-beacon" src="{{beacon}}" width="1" height="1" alt="" /> {{has_imp_tracking_url}} {{imp_tracking_pixels}} '}},"1.0.0");
YUI.add("minty_module_list_view_ad_mb_native_vert_prev",function(e){e.namespace("ui.Templates"),e.ui.Templates.minty_module_list_view_ad_mb_native_vert_prev={base:'<div class="mb-list-ad mb-native-ad mb-with-img mbBackgroundColor" data-creative-id="{{creative_id}}"> <a role="presentation" tabindex="-1" href="{{click_url}}" target="_blank"> <div class="fixed start"> <i class="icon mb-icon adchoices" data-action="mb-redirect"></i> </div> <div class="flex"> <div class="from"> <div class="mb-header" title="{{ad_source}}">{{ad_source}}</div> <div class="mb-action-toolbar mb-sub-header" aria-hidden="true"> <span class="icon mb-dropdown icon-chevron-down" data-action="menu"></span> </div> </div> <div class="subj"> <span class="subject mb-sub-header" title="{{ad_headline}}">{{ad_headline}}</span> {{has_mb_asset_action}} </div> </div> <div class="fixed end"> <div class="mb-sponsored" data-action="mb-redirect">{{str_srch_sponsored}}</div> </div> {{has_beacons_enabled}} </a></div>',has_mb_asset_action:'<div class="mb-asset" title="{{mb_asset_action}}">{{mb_asset_action}}</div> ',has_imp_tracking_url:'<img class="mb-beacon" src="{{imp_tracking_url}}" width="1" height="1" alt="" /> ',has_beacons_enabled:'<img class="mb-beacon" src="{{beacon}}" width="1" height="1" alt="" /> {{has_imp_tracking_url}} {{imp_tracking_pixels}} '}},"1.0.0");
YUI.add("minty_module_list_view_ad_mb_native_img_link",function(e){e.namespace("ui.Templates"),e.ui.Templates.minty_module_list_view_ad_mb_native_img_link={base:'<div class="mb-list-ad mb-native-ad mb-with-img mb-with-img-link {{has_ad_feedback}} {{moneyball_list_bg}}" data-creative-id="{{creative_id}}"> <a role="presentation" tabindex="-1" href="{{click_url}}" target="_blank"> <div class="adlink"> {{has_video_ad}} {{has_video_ad_else}} <div class="flex"> <div class="title mb-table-wrap" title="{{ad_source}}"> <div class="mb-table-inner"> <div class="mb-header mb-link">{{ad_source}}</div> <div class="mb-sub-header mb-sponsored mb-menu"> <i class="icon mb-icon adchoices mb-sponsored" data-action="mb-redirect"></i> <span data-action="menu">{{str_srch_sponsored}}</span> <span class="icon mb-dropdown icon-chevron-down" data-action="menu"></span> </div> <div class="mb-sub-header mb-sponsored mb-simple" data-action="mb-redirect"> {{str_srch_sponsored}} </div> </div> </div> <div class="subj mb-table-wrap" title="{{ad_summary}}"> <div class="mb-table-inner"> <div class="mb-header">{{ad_headline}}</div> <div class="mb-sub-header">{{ad_summary}}</div> </div> </div> </div> </div> </a> <i class="icon mb-icon mb-icon-right adchoices mb-sponsored" data-action="mb-redirect"></i> {{has_mb_asset_action}} {{has_beacons_enabled}}</div>',has_ad_feedback:"mb-feedback ",has_video_ad:'<div class="mb-table-wrap mb-list-img-wrap"> <div class="mb-table-inner"> <div class="video-overlay video-play-icon hidden"> <img src="https://s.yimg.com/nq/ads/1/ads/gemini_pencil_play.png"> </div> <video class="mb-list-video" muted> <source src="{{video_ad}}" type="{{asset_type}}" class="video-source"> </video> </div> </div> ',has_ad_img:'<div class="mb-table-wrap mb-list-img-wrap"> <div class="video-overlay img-play-icon hidden"> <img src="https://s.yimg.com/nq/ads/1/ads/gemini_pencil_play.png"> </div> <div class="mb-table-inner"> <img class="mb-list-img" src="{{ad_img}}" border="0"> </div> </div> ',has_ad_img_else:'<i class="icon mb-icon adchoices mb-sponsored mb-logo-left" data-action="mb-redirect"></i> ',has_video_ad_else:"{{has_ad_img}} {{has_ad_img_else}} ",has_mb_asset_action:'<div class="mb-asset" title="{{mb_asset_action}}">{{mb_asset_action}}</div> ',has_imp_tracking_url:'<img class="mb-beacon" src="{{imp_tracking_url}}" width="1" height="1" alt="" /> ',has_beacons_enabled:'<img class="mb-beacon" src="{{beacon}}" width="1" height="1" alt="" /> {{has_imp_tracking_url}} {{imp_tracking_pixels}} '}},"1.0.0");
YUI.add("mail-ui-mb-list-view",function(e){function n(){var e=NeoConfig.launchPVID.replace(/[^a-zA-Z]/g,""),t=e.length,n,r="";for(n=8;n<t;n++)n%2===0&&(r+=e.charAt(n));return r}var t=e.common.Utils;e.mail.ui.mbListView=e.mail.ui.mbView.extend({template:e.ui.Templates.minty_module_list_view_ad_mb,rootNodeSelector:[".list-view-items .list-view-items-page > .list-view-item-date-label",".list-view-items"],shellId:NeoConfig.ccAb&&n()||"slot_MB",sectionId:NeoConfig.mbSectionId,_adEvent:"mbEvent:rotate",_adEventHandler:function(){NeoConfig.vertPane||this.model.execute()},_adReRenderHandler:function(){var e=this,n=e._getCurrentAd();if(NeoConfig.vertPane&&!t.features.enabled("mbListNativeViewVertPrvPn"))return;n&&(n.beacons_enabled=!1,e.render([n]))},hasCachedModel:!0,_bindEvents:function(){var n=this;e.on("mbEvent:rotate",function(){if(!NeoConfig.vertPane||t.features.enabled("mbListNativeViewVertPrvPn"))t.features.enabled("mbListNativeView")?n.stopAdRot||this.show():this.show()},this),e.on("mbEvent:hide",this.hide,this),e.on("mbEvent:previewpane_expand",function(){NeoConfig.vertPane&&!t.features.enabled("mbListNativeViewVertPrvPn")?this.hide():this.show()},this),e.on("mbEvent:previewpane_close",function(){this.model.execute()},this),e.on("mbEvent:re-render",e.bind(this._adReRenderHandler,this))},_applyBucketLogic:function(e){var t=e.one(".mb-list-ad");t&&NeoConfig.theme&&NeoConfig.theme.id==="purple"&&NeoConfig.mbExpColor&&t.setStyle("background-color",NeoConfig.mbExpColor)}})},"1.0.0",{requires:["mail-ui-mb-view","minty_module_list_view_ad_mb","minty_module_list_view_ad_mb_native","minty_module_list_view_ad_mb_native_vert_prev","minty_module_list_view_ad_mb_native_img_link","mail-common-utils-features"]});
YUI.add("mail-ui-mb-search-list-view",function(A){A.mail.ui.mbSearchListView=A.mail.ui.mbView.extend({template:A.ui.Templates.minty_module_list_view_ad_mb,rootNodeSelector:["#msg-list.result .list-view-item","#msg-list-no-result .inner"],rootNodePosition:"before",sectionId:NeoConfig.mbSearchSectionId,statName:"mbBackfill:searchList",hasCachedModel:true,shellId:"mbSearchAd",_adEvent:"mbEvent:search"});},"1.0.0",{requires:["mail-ui-mb-view","minty_module_list_view_ad_mb"]});YUI.add("minty_module_list_view_ad_buckets_mb_list_img",function(e){e.namespace("ui.Templates"),e.ui.Templates.minty_module_list_view_ad_buckets_mb_list_img={base:'<div class="mb-list-ad mb-list-img-ad mb-with-img {{moneyball_list_bg}}" data-id="{{respCreativeId}}"> <a href="{{click_url}}" target="_blank" class="adlink" data-creative-id="{{creative_id}}"> {{has_ad_img}} {{has_ad_img_else}} <div class="flex"> <div class="title mb-table-wrap"> <div class="mb-table-inner"> <div class="mb-header">{{ad_source}}</div> <div class="mb-sub-header mb-sponsored">{{str_srch_sponsored}}</div> </div> </div> <div class="subj mb-table-wrap"> <div class="mb-table-inner"> <div class="mb-header">{{ad_headline}}</div> <div class="mb-sub-header">{{ad_summary}}</div> </div> </div> </div> </a> <button class="mb-close"><i class="icon"></i></button> <i class="icon mb-icon mb-icon-right adchoices mb-sponsored {{has_ad_feedback}} hidden"></i> {{has_beacons_enabled}}</div>',has_ad_img:'<div class="mb-table-wrap mb-list-img-wrap"> <div class="mb-table-inner"> <img class="mb-list-img" src="{{ad_img}}" border="0"> </div> </div> ',has_ad_img_else:'<i class="icon mb-icon adchoices mb-sponsored mb-logo-left"></i> ',has_ad_feedback:"mb-feedback ",has_imp_tracking_url:'<img class="mb-beacon" src="{{imp_tracking_url}}" width="1" height="1" alt="" /> ',has_beacons_enabled:'<img class="mb-beacon" src="{{beacon}}" width="1" height="1" alt="" /> {{has_imp_tracking_url}} {{imp_tracking_pixels}} '}},"1.0.0");
YUI.add("_shared_module_offscreen_bin_modal_subscriptionad",function(e){e.namespace("ui.Templates"),e.ui.Templates._shared_module_offscreen_bin_modal_subscriptionad={base:"{{main}}{{email_template}}",main:'<div class="modal subscriptionAd"> <h3 class="modal-hd"> <span class="icon close" data-action="cancel" title="Close"></span> </h3> <div class="sa-body"> <div class="sa-summary">{{str_subscription_ad_tos}}</div> <div class="sa-summary sa-sum-bot">{{str_subscription_ad_tos2}}</div> <span class="sa-tos"><a href="{{terms_of_service}}" target="_blank">{{str_subscription_ad_read_more}}</a></span> <span><a href="{{privacy_policy}}" target="_blank">{{str_subscription_ad_privacy_policy}}</a></span> <div class="btn-container"> <button id="okayModalOverlay" class="btn left right default" title="subscribe" role="button" data-action="subscribe" data-url="{{landing_url}}" data-hash="{{hash}}" data-tstamp="{{tStamp}}" data-creative="{{creative_id}}" data-postkey="{{post_key}}" data-beacon="{{click_url}}">Subscribe</button> <button id="cancelModalOverlay" class="btn left right default" title="cancel" role="button" data-action="cancel">Cancel</button> </div> </div></div>',email_template:"<b>{{email}}</b>"}},"1.0.0");
YUI.add("mail-ui-mb-list-img-view",function(e){var t=!1,n=e.common.Utils,r=e.common.net.SessionMgr,i=e.common.Utils.substitute,s=n.getSegmentData("webMail").currSegScore,o=function(t){var r=t.container;if(!r)return;n.features.enabled("mbSubscriptionAd")&&t.ad&&t.ad.c_uuid&&r.on("click",u,t),r.delegate("click",function(t){t.preventDefault(),e.fire("util:ymstats",{name:"moneyball_list_img",tags:{action:"close_button",segmentation:s}}),e.use("mail-ui-ad-upsell-dialog",function(e){e.mail.ui.AdUpsellDialog.show(),r.remove()})},".mb-close"),this.lastContainer!==r&&(this.lastContainer&&this.lastContainer.detach("click"),this.sponsoredClickHandler=r.delegate("click",function(n){n.preventDefault(),e.common.Utils.features.enabled("mbAdFeedback")&&n.currentTarget.hasClass("mb-feedback")?t._startFeedback():window.open(strings.str_cfg_url_about_adchoices,"_blank")},".mb-sponsored"),this.lastContainer=r)},u=function(t){var r,s=e.ui.Templates._shared_module_offscreen_bin_modal_subscriptionad,o={ad_tos:function(e){return n.substitute(strings.str_subscription_ad_tos,e)}},u=i(s.base,this.ad||NeoConfig.moneyball,o,null,strings),f=new e.comms.ui.Dialog({template:u,centered:!0,cssPrefix:"modal"});t.preventDefault(),f.render(),r=f.get("contentBox"),r.on("click",a,f),f.show()},a=function(t){var n=this,i=t&&t.target&&t.target.getData(),o=i&&i.beacon,u=i&&i.action,a=i&&encodeURIComponent(i.hash),f=i&&encodeURIComponent(i.tstamp),l=encodeURIComponent(btoa(NeoConfig.emailAddress||"")),c=i&&encodeURIComponent(btoa(i.url||"")),h=NeoConfig.scriptBase+"/subscriptionAds?dest="+c+"&h="+a+"&t="+f+"&em="+l,p={success:function(){var t=new Image;t.src=o,n.destroy(),e.fire("util:ymstats",{name:"moneyball_subscription_ad_click_success",tags:{segmentation:s},include:{bucket:!0}})},failure:function(){e.fire("util:ymstats",{name:"moneyball_subscription_ad_click_failed",tags:{segmentation:s},include:{bucket:!0}})}};switch(u){case"subscribe":r.request(h,null,p,"GET",null,!0),e.fire("util:ymstats",{name:"moneyball_subscription_ad_click",tags:{segmentation:s},include:{bucket:!0}});break;case"cancel":e.fire("util:ymstats",{name:"moneyball_subscription_ad_cancel",tags:{segmentation:s},include:{bucket:!0}}),n.destroy()}};e.mail.ui.mbListImgView=e.mail.ui.mbListView.extend({template:e.ui.Templates.minty_module_list_view_ad_buckets_mb_list_img,statName:"mbListImgView",_postRender:function(e){this.ad=e&&e[0],o(this)},_preRender:function(){this.fbView&&(this.fbView.end(),this.fbView=null),this.fbActive=!1},_adEventHandler:function(){!t&&!NeoConfig.vertPane&&(this.model.execute(),this.stat("renderAttempt"))},_applyBucketLogic:function(t){if(!/CMUSGRMBI0[1-4]/.test(NeoConfig.expBucketId)){var n=t.one(".mb-close");n&&n.remove();var r=t.one(".mb-icon-right");r&&r.removeClass("hidden")}e.common.Utils.features.enabled("MBHover")&&t.one(".mb-list-ad").addClass("mb-list-hover")},_bindEvents:function(){e.mail.ui.mbListView.prototype._bindEvents.call(this),o(this)},_startFeedback:function(){var t=this;if(t.fbActive)return;t.fbActive=!0,e.use("minty_module_list_view_ad_mb_native_feedback","mail-ui-mb-feedback-view",function(e){var n={template:e.ui.Templates.minty_module_list_view_ad_mb_native_feedback,fb:NeoConfig.vertPane?"vertical":"horizontal",ack:e.common.Utils.features.enabled("mailProEligible")?"feedback_ack_upsell":"feedback_ack"},r={done:"mb-done-button",option:"mb-option",select:"mb-select",comment:"mb-comment",upgrade:"mb-upgrade"},i={end:t._endFeedback};e.fire("util:ymstats",{name:"mb_list_img_view_feedback_attempt",tags:{segmentation:s},include:{bucket:!0}}),t.fbView||(t.fbView=new e.mail.ui.mbFeedbackView(t)),t.fbView.start(n,r,i)||e.fire("util:ymstats",{name:"mb_list_img_view_feedback_failure",tags:{status:"failure",segmentation:s},include:{bucket:!0}}),t.container&&t.container.remove()})},_endFeedback:function(t,n){var r=t;r.fbActive=!1,n||e.fire("mbEvent:rotate")}})},"1.0.0",{requires:["mail-ui-mb-list-view","mail-common-utils-features","minty_module_list_view_ad_buckets_mb_list_img","_shared_module_offscreen_bin_modal_subscriptionad"]});
YUI.add("minty_module_ads_native_ad_forward",function(e){e.namespace("ui.Templates"),e.ui.Templates.minty_module_ads_native_ad_forward={base:"<p> <span></br><span></p><div>-------------------------------------------------- {{str_forward_message}} --------------------------------------------------</div>"}},"1.0.0");
YUI.add("minty_module_list_view_ad_buckets_mb_right_rail_save_ad",function(e){e.namespace("ui.Templates"),e.ui.Templates.minty_module_list_view_ad_buckets_mb_right_rail_save_ad={base:'<html> <body style="min-width: 580px;"> <style> @media screen and (max-width: 525px) { table[class=\'wrapper\']{ width:100% !important; } } </style> <table border="0" cellpadding="0" cellspacing="0" width="100%"> <tr> <td> <table border="0" cellpadding="0" cellspacing="0" class="wrapper" width="580" style="margin-left: auto; margin-right: auto;"> <tr> <td> <div style="font-family:HelveticaNeue, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif; width: 580px; margin-left:auto; margin-right:auto; margin-top:60px; margin-bottom:60px; border-width:1px; border-style:solid; border-color:#DBDBDB; position:relative" class="native_msg"> <a style="text-decoration:none; color:black; " href="{{click_url}}" target="_blank"> <p style="font-size:21px; font-weight:bold; margin-top:20px; margin-left:15px">{{ad_headline}}</p> <p style="font-size:16px; margin-top:4px; margin-bottom:20px; margin-left:15px">{{ad_summary}} </p> <img style="border-bottom:1px solid #DBDBDB; border-top:1px solid #DBDBDB; width:580px; cursor:pointer;" src="{{hq_image}}" alt="{{ad_headline}}"> <table style="width: 100%; height: 58px;" cellpadding="0" cellspacing="0"> <tr> <td valign=\'middle\' style="width: 82%;"> <p style="font-size:16px; font-weight:bold; margin-top:20px; margin-bottom:20px; margin-left:15px">{{ad_source}}</p> </td> <td valign=\'middle\' style="width: 18%;" id="AdlearnMore"> <a style="text-decoration:none; border-width:1px; border-style:solid; border-color:#00CD7A; padding:6px 9px; font-size:13px; color: #00CD7A;">{{str_mb_list_native_view_more}}</a> </td> </tr> </table> </a> </div> </td> </tr> </table> </td> </tr> </table> </body></html>'}},"1.0.0");
YUI.add("minty_module_list_view_ad_mb_native_sponsored_img",function(e){e.namespace("ui.Templates"),e.ui.Templates.minty_module_list_view_ad_mb_native_sponsored_img={base:'<div class="native-ads-sponsoredimg"> <a rel="nofollow" role="presentation" tabindex="-1" href="{{click_url}}" target="_blank"> <img src="{{image_url}}" data-action="clickInternal"></img> </a></div>'}},"1.0.0");
YUI.add("minty_module_list_view_ad_mb_native_sponsored_video",function(e){e.namespace("ui.Templates"),e.ui.Templates.minty_module_list_view_ad_mb_native_sponsored_video={base:'<div class="native-ads-sponsoredvideo"> <a rel="nofollow" role="presentation" tabindex="-1" href="{{click_url}}" target="_blank"> <div class="native-ads-video-source">{{source}}</div> <div class="native-ads-video-description">{{description}}</div> <div class="mb-asset native-ads-video-action" title="{{action}}">{{action}}</div> </a> <div class="native-ads-video"> </div></div>'}},"1.0.0");
YUI.add("minty_module_list_view_ad_mb_native_sponsored_leadsgen",function(e){e.namespace("ui.Templates"),e.ui.Templates.minty_module_list_view_ad_mb_native_sponsored_leadsgen={base:'<div class="native-ads-sponsoredleadsgen native-ads-fill"> <iframe allowtransparency="true" frameborder="0" vspace="0" hspace="0" style="background-color: transparent; width: 100%; height: 100%;" src="{{leadsGenUrl}}"></iframe></div>'}},"1.0.0");
YUI.add("minty_module_list_view_ad_mb_native_sponsored_carousel",function(e){e.namespace("ui.Templates"),e.ui.Templates.minty_module_list_view_ad_mb_native_sponsored_carousel={base:'<div class="native-ads-carousel-outer"> <div class="native-ads-carousel-container"> <a class="native-ads-carousel" href="{{clickUrl}}" target="_blank"> <div class="native-ads-carousel-header" > <div class="native-ads-carousel-title">{{title}}</div> <div class="native-ads-carousel-description">{{description}}</div> </div> <div class="native-ads-carousel-main-img-container"> <span class="native-ads-carousel-button left" data-click="left">&lt;</span> <img class="native-ads-carousel-main-img" src="{{imgSrc}}" data-img-id="{{imgId}}"/> <img class="native-ads-carousel-beacon" src="{{beacon}}"/> <span class="native-ads-carousel-button right" data-click="right">&gt;</span> </div> <div class="native-ads-carousel-thumbs"> {{thumbs}} </div> <div class="native-ads-carousel-footer"> <span class="native-ads-carousel-sponsor">{{sponsor}}</span> <div class="mb-asset native-ads-carousel-action {{hasAction}}" title="{{action}}">{{action}}</div> </div> </a> </div></div>',thumbs:'<span class="native-ads-carousel-thumb "> <span class="native-ads-carousel-thumb-container" data-click="rotate" data-img-id="{{imgId}}"/> <img class="native-ads-carousel-thumb-img {{isActive}}" src="{{imgSrc}}" data-click="rotate" data-img-id="{{imgId}}" data-title="{{title}}" data-description="{{description}}" data-hi-res="{{hiRes}}" data-beacon="{{beacon}}" data-anchor="{{clickUrl}}" data-action="{{action}}"/> </span> </span> '}},"1.0.0");
YUI.add("minty_module_offscreen_bin_native_ad_callout",function(e){e.namespace("ui.Templates"),e.ui.Templates.minty_module_offscreen_bin_native_ad_callout={base:"<div id=\"acBtntip\" class='convstooltip nativeadstooltip yui3-tooltips'> <div class='tooltip-arrow-top'> <div class='inner-arrow'></div> </div> <div class='modal tooltips-text native-ads-text' tabindex='0'> <h2 class='modal-hd native-ads-hd'> <span class='native-bd'>{{str_mb_list_native_what}}</span> </h2> <div class=\"modal-bd native-ads-bd\"> <div class=\"bd\"> <span class=\"native-text\">{{str_mb_list_native_hover}}</span> </div> </div> </div></div>"}},"1.0.0");
YUI.add("minty_module_offscreen_bin_native_ad_star",function(e){e.namespace("ui.Templates"),e.ui.Templates.minty_module_offscreen_bin_native_ad_star={base:"<div id=\"starTip\" class='convstooltip nativeadstooltip yui3-tooltips'> <div class='tooltip-arrow-bottom'> <div class='inner-arrow'></div> </div> <div class='modal tooltips-text star' tabindex='0'> <div class=\"modal-bd\"> <div class=\"bd\"> <span class=\"native-text\">{{str_native_star}}</span> </div> </div> </div></div>"}},"1.0.0");
YUI.add("_shared_module_offscreen_bin_notification_native_ad_star",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_offscreen_bin_notification_native_ad_star={base:"<div>{{str_native_ad_open_nfhd}}</div>"};},"1.0.0");