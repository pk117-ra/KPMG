!function(a){a.ucs||(a.ucs={});var b=a.ucs;b.UH_OUTER_ID="#UH",b.UH_MAIN_ID="#uhWrapper",b.HIDDEN_CLS="Hidden",b.DN_CLS="D(n)",b.ESC_DN_CLS="D\\(n\\)",b.components={search:{selector:"#UHSearch",init_cls:"UHSearch-Init",web_btn_selector:"#UHSearchWeb",prop_btn_selector:"#UHSearchProperty",input_selector:"#UHSearchBox",panel_selector:"#yucs-satray"},help:{selector:"#yucs-help"},profile:{selector:""},mail:{selector:"#yucs-mail"}};var c=document.getElementById("yucs-meta");c&&"srp"===c.getAttribute("data-property")&&"undefined"!=typeof window.Y?b.YObj=window.Y:b.YObj=a.YMedia||YUI(),b.ymreqid=a.ucs.ymreqid||function(){var a=(new Date).getTime(),b=null,c="xxxxxxxx-xxxx-xxxx-09xx-xxxxxxxxxx00".replace(/x/g,function(c){return b=(a+16*Math.random())%16|0,a=Math.floor(a/16),b.toString(16)});return c},b.protocol=c&&c.getAttribute("data-protocol")?c.getAttribute("data-protocol"):"http",b._sendBeacon=function(a,b){if(a){var c=new Image;c.height=0,c.width=0,c.style.display="none",c.src="https://geo.yahoo.com/t"+a,document.body.appendChild(c)}}}(window);YUI.add("jsonp-super-cached",function(a){a.namespace("jsonpsupercached"),YUI.Env.JsonpSuperCached||(YUI.Env.JsonpSuperCached={}),YUI.Env.JsonpSuperCached.services||(YUI.Env.JsonpSuperCached.services={});var b=YUI.Env.JsonpSuperCached.services;a.jsonpsupercached.getData=function(c){var d={},e=c.url||"",f=c.serviceName||"service",g=c.callbackName||"callback",h=(c.broadcast||!1,c.onSuccess||function(){});f="_"+f+"_"+g,d.timeout=c.timeout,d.onTimeout=c.onTimeout||null,d.onFailure=c.onFailure||null,d.async=!0;var i=-1===e.indexOf("?")?"?":"&",j=e+i+g+"=YUI.Env.JsonpSuperCached."+f,k=c.args||[],l=c.context||null;a.jsonpsupercached.get=YUI.Env.JsonpSuperCached.get||a.Get,b[j]||(b[j]={dataAvailable:!1,requestInProgress:!1,callbacksQueue:[]});var m=b[j];m.dataAvailable?h(m.data):(m.callbacksQueue.push(h),m.requestInProgress||(YUI.Env.JsonpSuperCached[f]=function(a){m.data=a,m.dataAvailable=!0;for(var b=m.callbacksQueue,c=0,d=b.length;d>c;c++){var e=b.pop();e.apply(l,[a].concat(k))}},m.requestInProgress=!0,a.jsonpsupercached.get.script(j,d)))}},"0.0.1");!function(a){a.ucs||(a.ucs={}),a.ucs.escapeRegex=function(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}}(window);ucs.YObj.use("node","event-resize","dom-screen",function(a){var b=a.one(window.ucs.UH_OUTER_ID),c=a.one("html"),d="Sticky-off",e=parseInt(b.getData("minW"),10)||970,f=function(){a.DOM.winWidth()>e?c.removeClass(d):c.addClass(d)};a.UA.ie&&a.UA.ie<9&&(f(),a.on("windowresize",f))});YUI.add("ucs-menu-group-plugin",function(a){function b(a){this.host=a.host,this.addClasses=a.addClasses}a.namespace("ucs");var c='<li class="{isDisabled} {isActive} {menuClass} {separatorBottom} {separatorTop} {listClasses}"><a target="{target}" {inProductHelp} {actionData} href="{url}" {disabledAria} class="C(#000)! Td(u):h {linkClasses}" data-ylk="rspns:nav;t3:tl-lst;t5:custitm;slk:custitm;elm:itm;elmt:custitm;itc:0;cpos:{cpos}">{icon}{menuText}</a></li>',d='<li class="{isDisabled} {isActive} {menuClass} {separatorBottom} {separatorTop} {listClasses}"><a href="#" data-customevt="true" {actionData} {disabledAria} {checkedAria} class="C(#000)! Td(u):h {linkClasses}" data-ylk="rspns:nav;t3:tl-lst;t5:custitm;slk:custitm;elm:itm;elmt:custitm;itc:0;cpos:{cpos}">{icon}{menuText}</a></li>',e='<ul class="Mx(-10px) Pos(r) My(0) C(#000)">{menuItems}</ul>',f="Bdw(0) Bdtw(1px) Bds(s) Bdc(#e2e2e6)",g="Bdw(0) Bdbw(1px) Bds(s) Bdc(#e2e2e6)",h="yucs-menu-group",i="ul",j="http://l.yimg.com/a/lib/ush/icon.gif",k="https://s.yimg.com/lq/lib/ush/icon.gif";b.NAME="ucs-menu-group-plugin",b.NS="menugroup",b.prototype={_addMenuGroups:function(b,c,d,e){var f,g,j=this.host.panel,k="";j.all(i).addClass(h);for(var l=0,m=b.length;m>l;l++)k+=this._addMenuGroup(b[l],d,e);f=a.Node.create(k),g=d?"debug-item":"minty-item",b=f.all(i),0===b.size()&&(b=f),b.addClass(e+" "+g),"bottom"===c?j.append(f):j.prepend(f),j.all(i).slice(0,-1).addClass("Bdw(0) Bdbw(1px) Bds(s) Bdc(#e2e2e6)"),j.all(i).each(function(a){if(a=a.get("children"),a.size()>0){var b=window.ucs.escapeRegex("Bdw(0) Bdbw(1px) Bds(s) Bdc(#e2e2e6)");a.item(a.size()-1).removeClass(b)}}),a.Global.fire("ucs-rapid:refreshmodules","uhWrapper","0")},_addMenuGroup:function(b,c,d){for(var f,g="",h=!0,i="Py(8px)",j=0,k=b.length;k>j;j++)f=b[j],c?(f.isDebugItem=!0,f.menuClass="debug-item"):(f.isDebugItem=!1,f.menuClass="minty-item"),f.menuClass+=this.addClasses&&this.addClasses.menuClass&&" "+this.addClasses.menuClass.join(" ")||" Px(10px)",f.menuClass+=" "+i,f.cpos=j+1,h&&(h=!1,i=" Pb(8px)"),g+=this._addMenuItem(f,d);return g=a.substitute(e,{menuItems:g})},_addMenuItem:function(b,e){var f="";if(b.isActive?b.checkedAria='aria-checked="true"':b.checkedAria="",b.isDisabled?b.disabledAria='aria-disabled="true"':b.disabledAria="",b.actionData&&b.actionData.match(/^om:/))return f;switch(b.actionType){case"link":f=a.substitute(c,b,this._processTemplateValue);break;case"customEvent":f=a.substitute(d,b,this._processTemplateValue)}return f&&(f=b.isDebugItem?f.replace(/separator/,"separator debug-item"):f.replace(/separator/,"separator minty-item")),f},_processTemplateValue:function(b,c,d){a.log("key = "+b+" value = "+c+" meta_data = "+d);var e="",h="https:"===document.location.protocol?k:j;switch(b){case"icon":void 0!==c&&(e="available"===c?'<img src="'+h+'" class="yucs-opi available"/>':"offline"===c?'<img src="'+h+'" class="yucs-opi offline"/>':"invisible"===c?'<img src="'+h+'" class="yucs-opi invisible"/>':"busy"===c?'<img src="'+h+'" class="yucs-opi busy"/>':"idle"===c?'<img src="'+h+'" class="yucs-opi idle"/>':'<img src="'+c+'" />');break;case"separatorTop":c&&(e=f);break;case"separatorBottom":c&&(e=g);break;case"actionData":c&&(e='data-mad="'+c+'"');break;case"inProductHelp":c&&(e='data-inproducthelp="'+c+'"');break;case"listClasses":case"linkClasses":c&&(e=c);break;case"isDisabled":c&&(e="disabled");break;case"isActive":c&&(e="sp active");break;case"checkedAria":e=c;break;default:e=c}return e}},a.ucs.MenuGroupPlugin=b},"1.0.0",{requires:["ucs-menu-utils","node-screen","plugin"]});YUI.add("ucs-menu-plugin",function(a){function b(a){this.host=a.host,b.superclass.constructor.apply(this,arguments)}var c=(a.Lang,"https://s.yimg.com/os/mit/media/m/base/images/transparent-95031.png"),d='<iframe src="'+c+'" aria-hidden="true" tabindex="-1" frameborder="0" class="uhIframeTooltip Bd(0) Pos(a) T(-10px) Start(-10px) W(100%) H(100%) P(10px) Op(0)"></iframe>',e='<div class="js-Tooltip-Wrapper Pos(r)"><div tabindex="-1" class="Z(5) {{panelClasses}}">'+d+"</div></div>",f=[{name:"NorthFarWest",pos:0},{name:"NorthWest",pos:.25},{name:"North",pos:.5},{name:"NorthEast",pos:.75},{name:"NorthFarEast",pos:1}],g=["ar-jo","he-il","ur-pk","ur-tk","he-il","ar"],h=a.one("#yucs-meta"),i=h&&h.getAttribute("data-languagetag")||"en-us",j=a.Array.indexOf(g,i.toLowerCase())>=0,k=function(){var b=a.Node.create(e.replace(/\{\{panelClasses\}\}/,this.panel.get("className")+" Px(10px)")),c=b.get("children").item(0);c.appendChild(this.panel.remove(!1)),this.hiddenPanel=c,this.panel.set("className","Pos(r) M(0) TooltipContent"),this.appendChild(b)},l=window.ucs.DN_CLS,m=window.ucs.escapeRegex,n=function(){var b,c,d,e,g,h,i,k,n,o,p,q,r,s,t,u,v,w,x,y=this.hiddenPanel,z=this,A=y.hasClass(m(l)),B=0,C=0,D=10,E=[],F=[],G=15;for(p=y.getAttribute("style"),A&&(y.setStyles({top:"-100px",height:"5px",marginLeft:"0",marginRight:"0"}),y.replaceClass(m(l),"Ov(h)")),u=a.one(".UHCol1"),v=a.one("#uhNavWrapper"),j?(w=v.get("region").left,x=u.get("region").right):(w=u.get("region").left,x=v.get("region").right),k=y.get("region"),this.panelWidth=k.width,d=window.innerWidth<x-w?{left:0,right:window.innerWidth}:{left:w,right:x},b=y.get("className"),c=/North\w+/g.exec(b),e=y.hasClass("North"),g=!!b.match(/Arrow/),h=g&&z.one(".yucs-trigger i").get("region")||z.get("region"),i=h.left+h.width/2,c=c&&c[0]||"North",y.removeClass(c),s=0,t=f.length;t>s;s++)B=f[s].pos,C=B%1===0&&(-1+2*B)*D||0,B=k.left+k.width*B-C,n=B-i,o=k.left-n,r=d.right-(o+k.width),q=o-d.left,E.push(q>=G?Math.floor(q):Number.POSITIVE_INFINITY),F.push(r>=G?Math.floor(r):Number.POSITIVE_INFINITY);q=Math.min.apply(null,E),r=Math.min.apply(null,F),r>q?(s=a.Array.indexOf(E,q),o=q+d.left):(s=a.Array.indexOf(F,r),o=d.right-(k.width+r));var H=f[s].name,I=H.match(/(West|East)/);I&&j&&(I=I[1],H=H.replace(I,{West:"East",East:"West"}[I])),y.addClass(H).setX(o),A&&(y.replaceClass(m("Ov(h)"),l),y.setStyles({right:"auto",top:g?"-2px":"",height:""}))};b.NAME="MenuPlugin",b.NS="addons",b.ATTRS={},a.extend(b,a.Plugin.Base,{initializer:function(){var a=this.host;/\w+DropDown/g.test(a.get("className"))?this.hiddenPanel=this.panel:(k.call(a),n.call(a)),a.resetPosition&&(this.setPosition=n),this.onHostEvent("ucs:showMenu",this._show),this.onHostEvent("ucs:hideMenu",this._hide),this.onHostEvent("ucs:resetPosition",this._resetPosition)},destructor:function(){},_resetPosition:function(){this.setPosition&&this.setPosition.call(this.host)},_show:function(a){var b=this.host;b.fire("ucs:show",a),this._resetPosition(),b.hiddenPanel.removeClass(m(l))},_hide:function(a){var b=this.host;b.hiddenPanel.addClass(l),b.fire("ucs:hide",a)}}),a.namespace("Plugin.Uh").MenuPlugin=b},"0.1.0",{requires:["plugin"]});YUI.add("ucs-menu-utils",function(a){a.namespace("ucs");var b=500,c=!0,d=(("https"===ucs.protocol?"https://s.yimg.com":"http://l.yimg.com")+"/kx/yucs/uh3s/uh/26/js/menu_group_plugin.js",window.ucs.DN_CLS),e=window.ucs.escapeRegex;a.ucs.MenuUtils=function(b,c){var f=c&&c.panel||"> div",g=c&&c.trigger||"> a";if(this.openDelay=c&&c.openDelay||300,this.menu=b=b.one&&b||a.one(b),this.menu.trigger=b.one(g),this.menu.panel=b.one(f),this.menu.panel){this.menu.hiddenPanel=this.menu.panel,this.ylt=c&&c.ylt||"",this.rapidData=c.rapidData||null,c&&c.menuGroupPlugin&&(this.menu.plug(a.ucs.MenuGroupPlugin,c.menuGroupPlugin.config||{}),this.menu.resetPosition=!0),f=this.menu.panel,this.menu.hiddenPanel=f.hasClass(e(d))&&f||f.one("."+d);var h=c.event||"mouseenter";this._initEvents(h)}},a.ucs.MenuUtils.prototype={_initEvents:function(b){a.on("domready",this._initMenuPlugin,this);var d=function(){return a.UA.touchEnabled?!0:"object"==typeof window&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0)},e=d();"mouseenter"!==b||e||this.menu.on([b,"mouseleave"],this._handleMenuEvent,this),e&&(this.menu.trigger.on("touchend",function(a){a.preventDefault(),this._handleMenuEvent()},this),this.menu.panel.delegate("touchend",function(a){a.preventDefault(),this._handleAnchorClick()},"a",this)),this.menu.trigger.on("click",this._handleMenuEvent,this),this.menu.panel.delegate("click",this._handleAnchorClick,"a",this),this.menu.panel.delegate("click",function(b){this.navigationDisabled?b.halt():(this.navigationDisabled=!0,this.navTimer=a.later(3e3,this,function(a){this.navigationDisabled=!1,this.navTimer.cancel(),this.navTimer=null}))},"a",this);var f=this.menu.on("ucs:showMenu",function(a){f.detach(),this.menu.addons||(this._initMenuPlugin(),this.fireMenuEvent(c,a))},this)},_handleMenuEvent:function(c){var d=c.type,e="mouseenter"===d||"click"===d&&this._isHidden();this.ShowMenuQueue&&this.ShowMenuQueue.cancel();var f=this.openDelay;"click"===d&&(f=1,c.preventDefault(),this.bodyEvent&&this.bodyEvent.detach(),e&&(this.bodyEvent=a.one("body").on("click",this._handleBodyClick,this))),e?this.fireBeacons=a.later(b,this,function(){this._isHidden()===!1&&this._fireRapid()}):this.fireBeacons&&this.fireBeacons.cancel(),e?this.ShowMenuQueue=a.later(f,this,function(a,b){this.fireMenuEvent(a,b)},[e,c]):this.fireMenuEvent(e,c)},fireMenuEvent:function(a,b){this.menu.fire(a?"ucs:showMenu":"ucs:hideMenu",b)},_handleAnchorClick:function(a){var b=a.currentTarget.get("href");b.match(/\.crumb/g)&&this.fireMenuEvent(!c,a)},_initMenuPlugin:function(){this.menu.plug(a.Plugin.Uh.MenuPlugin)},_isHidden:function(){return this.menu&&this.menu.hiddenPanel&&this.menu.hiddenPanel.hasClass?this.menu.hiddenPanel.hasClass(e(d)):!1},_handleBodyClick:function(a){var b=this.menu;b.contains(a.target)||(b.addons?b.fire("ucs:hideMenu",a):(b.fire("ucs:hide",a),b.hiddenPanel.addClass(d)),this.bodyEvent.detach())},_fireRapid:function(){var b=this.rapidData;b&&a.Global.fire("ucs-rapid:event",b),a.Global.fire("ucs-rapid:refreshmodules","uhWrapper","0")}},a.augment(a.ucs.MenuUtils,a.EventTarget)},"1.0",{requires:["node","event","event-mouseenter","event-custom","substitute","node-focusmanager","get","ucs-menu-plugin","plugin"],use:["ucs-menu-group-plugin"]});YUI.add("gallery-jsonp",function(a){function b(){this._init.apply(this,arguments)}var c=a.Lang.isObject,d=a.Lang.isFunction;b._pattern=/\bcallback=(.*?)(?=&|$)/i,b._template="callback={callback}",b.prototype={_init:function(b,c){this.url=b,c=c||{},d(c)&&(c={on:{success:c}}),c.on=c.on||{},c.on.success||(c.on.success=this._getCallbackFromUrl(b)),this._config=a.merge({on:{},context:this,args:[],format:this._format},c)},_getCallbackFromUrl:function(e){var f,g,h,i,j=e.match(b._pattern);if(j){for(g=a.config.win,h=j[1].split(/\./).reverse(),f=h.shift(),i=h.length-1;i>=0;--i)if(g=g[h[i]],!c(g))return null;if(c(g)&&d(g[f]))return a.bind(g[f],g)}return null},send:function(b){function c(a){return d(a)?function(b){delete YUI.Env.JSONP[e],a.apply(f.context,[b].concat(f.args))}:null}if(!this._config.on.success)return this;var e=a.guid().replace(/-/g,"_"),f=this._config,g=f.format.call(this,this.url,"YUI.Env.JSONP."+e);return YUI.Env.JSONP[e]=c(f.on.success),a.Get.script(g,{onFailure:c(f.on.failure),onTimeout:c(f.on.timeout||f.on.failure),timeout:f.timeout}),this},_format:function(a,c){var d,e=b._template.replace(/\{callback\}/,c);return b._pattern.test(a)?a.replace(b._pattern,e):(d=a.slice(-1),"&"!==d&&"?"!==d&&(a+=a.indexOf("?")>-1?"&":"?"),a+e)}},a.JSONPRequest=b,a.jsonp=function(b,c){return new a.JSONPRequest(b,c).send()},YUI.Env.JSONP||(YUI.Env.JSONP={})},"gallery-2010.08.11-20-39",{requires:["get","oop"]});YUI.add("ucs-logodebug",function(a){a.namespace("ucs");var b=document.getElementById("imageCheck"),c=document.getElementById("yucs-logo-ani"),d=!1;c&&(-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(d=!0),(b&&0===b.offsetWidth&&void 0===b.readyState||b&&0===b.offsetWidth&&"uninitialized"===b.readyState||d&&b&&"uninitialized"===b.readyState||d&&b&&void 0===b.readyState)&&(c.style.visibility="visible",c.style.position="relative")),a.ucs.LogoDebug=function(a){a.on("click",this._handleClick,this),this.publish("ucs:logoDebug",{broadcast:2,emitFacade:!0})},a.ucs.LogoDebug.prototype={_handleClick:function(a){a.altKey&&(a.halt(),this.fire("ucs:logoDebug"))}},a.augment(a.ucs.LogoDebug,a.EventTarget)},"1.0",{requires:["node"]}),function(){ucs.YObj.use("node","ucs-logodebug",function(a){var b=a.one(".YLogoMY");if(b){new a.ucs.LogoDebug(b)}})}();(function(){var f="%Y",e="%y",h="%m",a="%d",c="_",b=document.getElementById("yucs")&&document.getElementById("yucs").getAttribute("data-lang").toLowerCase()||"en-us";if(!window.ucs){window.ucs={};}function d(i){switch(i){case"tr-tr":return[" "];case"es-cl":case"nl-nl":case"ta-in":case"zh-hant-cn":case"hi-in":case"kn-in":return["-"];case"de-at":case"de-ch":case"de-de":case"fi-fi":case"nb-no":case"pl-pl":case"ro-ro":case"ru-ru":return["."];default:return["/"];}}function g(i){switch(i){case"en-ae":case"en-au":case"en-ca":case"en-ie":case"en-in":case"en-my":case"en-nz":case"en-ph":case"en-sg":case"en-us":case"es-us":case"ja-jp":case"sv-se":return[h,c,a,c,e].join("");case"ro-ro":case"fi-fi":case"pl-pl":case"en-gb":case"th-th":case"en-ie":case"tr-tr":case"vi-vn":return[a,c,h,c,f].join("");case"zh-hant-cn":case"zh-hant-tw":return[e,c,h,c,a].join("");default:return[a,c,h,c,e].join("");}}window.ucs.getLocalDateFormat=function(i){i=i.toLowerCase();var k=d(i),j=g(i);return j.replace(new RegExp(c,"g"),k);};window.ucs.localeDateFormat=window.ucs.getLocalDateFormat(b);})();ucs.YObj&&ucs.YObj.use("datatype-date",function(a){}),YUI.add("ucs-timestamp-library",function(a){a.namespace("ucs.Timestamp"),a.ucs.Timestamp={getTimeStamp:function(b){var c,d,e,f,g,h="AM",i=a.one(window.ucs.UH_MAIN_ID),j=b.dateRef||new Date,k=b.date,l=b.locale?b.locale:i.getAttribute("data-lang"),m=k.getTime(),n=k.getDate(),o=j.getDate(),p=j.getTime(),q=p-m,r=o-n,s=!0,t=!1,u=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return l=a.Lang.isString(l)?l:"en-us",s=/^en-us$/i.test(l),t=/^zh-hant/i.test(l),t&&(u=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]),q=parseInt(q/1e3,10),d=k.getMonth(),e=k.getHours(),f=k.getMinutes(),g=p-(60*j.getHours()*60*1e3+60*j.getMinutes()*1e3+1e3*j.getSeconds()+j.getMilliseconds()),10>f&&(f="0"+f),e>=12&&(h="PM"),e>12&&(e-=12),b.type&&"short"===b.type&&a.DataType&&a.DataType.Date?c=0===r?e+":"+f+" "+h:a.DataType.Date.format(k,{format:window.ucs.localeDateFormat}).replace(/\b0(?=\d)/g,""):s||t?0===r?60>q?c=q>1?q+(t?"秒前":" secs ago"):t?"剛剛":q+" sec ago":3600>q?(q=Math.ceil(q/60,10),c=2>q?q+(t?"分鐘前":" min ago"):q+(t?"分鐘前":" mins ago")):86400>q&&(q=Math.ceil(q/3600),c=q>1?q+(t?"小時前":" hours ago"):q+(t?"小時前":" hour ago")):c=864e5>g-m&&0!==r?(t?"昨天":"Yesterday ")+e+":"+f+" "+h:t?u[d]+n+"日":u[d]+" "+n+"&nbsp;&nbsp;"+e+":"+f+" "+h:c=u[d]+" "+n+"&nbsp;&nbsp;"+e+":"+f+" "+h,c}}},"1.0",{requires:["node","datatype-date"]});YUI.add("ucs-usermenu",function(a){a.namespace("ucs");var b="#yucs-profile",c=(a.one("#yucs-meta").getAttribute("data-property"),"ucs:userMenuShow"),d="ucs:userMenuItemClick",e="click",f=window.ucs.DN_CLS,g={eventName:"hvr",keys:{sec:"uh-d",slk:"userhvr",_p:"0",rspns:"op",t1:"a1",t2:"uh-d",t3:"tl-lst",t5:"userhvr",elm:"tl",elmt:"usr",itc:"1"}};a.ucs.UserMenu=function(){this.showMenuYlt=a.one(b).getAttribute("data-yltmenushown")||"",a.ucs.UserMenu.superclass.constructor.call(this,a.one("#yucs-profile"),{ylt:this.showMenuYlt,panel:"#yucs-profile-panel",rapidData:g,menuGroupPlugin:{config:{addClasses:{menuClass:["Px(16px)","Ell"]}}}}),this._initCustomEvents()},a.extend(a.ucs.UserMenu,a.ucs.MenuUtils,{_initCustomEvents:function(){this.publish(c,{broadcast:2,emitFacade:!0}),this.publish(d,{broadcast:2,emitFacade:!0}),a.Global.on("ucs:userMenuItems",this._handleUserMenuItems,this,{location:"bottom",menuType:"minty-um-item"}),this.menu.delegate(e,this._handleMenuItemClick,"ul.minty-um-item li a",this),this.menu.on("ucs:show",this._showMenu,this)},_handleUserMenuItems:function(b,c){a.log("user menu items received");var d="bottom",e="minty-user-item";if(b.menuGroups&&b.menuGroups.length){c&&c.location&&(d=c.location),c&&c.menuType&&(e=c.menuType);var f=b.menuGroups,g=this.menu.panel;b.reset&&g&&g.all("."+e).each(function(a){a.remove(!0)}),f.length>0&&this.menu.menugroup._addMenuGroups(f,d,!1,e)}},_handleMenuItemClick:function(b){a.log("user menu item click");var c,e,f,g;if(c=b.target,c=c.ancestor("a",!0),e=c.getAttribute("data-mad"),f=c.getAttribute("data-customevt"),g=c.ancestor("li").hasClass("disabled")||!1)return void b.halt();if(f&&b.halt(),!g){var h={actionData:e};this.fire(d,h)}},_showMenuItems:function(){this.menu.all("ul").removeClass(window.ucs.escapeRegex(f))},_showMenu:function(){this.fire(c)}})},"1.0",{requires:["node","event-custom","event-hover","ucs-menu-utils"]}),function(){window.ucs.YObj.use("node","ucs-usermenu",function(a){var b,c=a.one("#yucs-profile");c&&(b=new a.ucs.UserMenu(c))})}();!function(){window.ucs.YObj.use("node","event-custom",function(a){var b=a.one("#yucs-signout")||a.one("#yuhead-me-signout")||a.one("#yucs .yucs-signout");b&&"mail"===a.one("#yucs-meta").getAttribute("data-property")&&b.on("click",function(){a.Global.fire("ucs:signout")})})}();YUI.add("ucs-fast-switch",function(a){function b(){var b={eventName:"secvw",keys:{t1:"a1",t2:"uh-d",t4:"usr-mu"}},c=!!window.ucs.rapid,d={},e=function(){d.fetch=(new Date).getTime(),a.Global.on("ucs-rapid:ready",function(a){l()})},f=function(e,f){if(!d[e]){d[e]=(new Date).getTime();var g=a.clone(b,!0),h=f(d);g.keys=a.mix(g.keys,h),c?a.Global.fire("ucs-rapid:event",g):a.Global.once("ucs-rapid:ready",function(b,c){a.Global.fire("ucs-rapid:event",c)},this,g)}},g=function(){f("response",function(a){return{t3:"response",slk:""+(a.response-a.fetch)}})},h=function(a){f("hover",function(b){return{t3:"hover",t6:a?"render":"not-render",slk:""+(b.hover-b.fetch)}})},i=function(){d.response&&f("render",function(a){return{t3:"render",t5:""+(a.render-a.response),slk:""+(a.render-a.fetch)}})},j=function(a){f("account",function(){return{t3:"tl-lst",t5:"acct-num-"+a,slk:"acct-ct"}})},k=function(a,b){f("init",function(){return{t3:"init",t5:a,slk:b}})},l=function(){c=!0};return{sendResponse:g,sendAccount:j,sendRender:i,sendHover:h,sendInit:k,rapidReady:l,init:e}}a.namespace("ucs");var c=window,d="login",e="done",f="jsonp",g="acctList",h="manage",i="switchAcct",j="add-mng-txt",k="data-",l="D(n)",m="#yucs-profile-panel",n="#yucs-fs-msg",o=500,p="welcomeTimeout",q={},r=window.ucs.escapeRegex,s="https://",t="<% var max = data.max, mng = data."+h+'%><ul class="Pos(r) Mx(-10px)! My(0)! P(0)! Bgc(#f7f8ff) C(#000) Themable" id="yucs-acct-list"><% Y.Array.each(data.userList, function (user, index) { if(index > max-1){return;} var switchUrl = data.'+i+' + user.alias + "&.done=" + data.'+e+';%><li class="Bdw(0) Bdtw(1px) Bds(s) Bdc(#fff) Bgc(#f2f4fe):h"><a class="Td(n) Td(n):h Py(8px) D(b) Cf C(#000)" data-ylk="t3:tl-lst;t4:usr-mu;t5:<%== index+1 %>;slk:acctswitch;elm:btn;elmt:usr;" href="<%== switchUrl %>"><div class="D(ib) Zoom Va(t)"><i class="Va(m) W(a) Ycon YconProfile Lh(1) D(b) Mx(10px) C(#8d919d)" >&#x1f464;</i></div><div class="W(2/3) D(ib) Zoom Lts(n) Tren(a) Va(t) Pt(6px)"><div class="Fw(b) Fz(15px) Ell C(#000)"><%= user.fn %> <%= user.ln %></div><div class="Ell C(#000) Fz(13px)"><%= user.em || user.alias %></div></div></a></li><% }); %></ul>';"undefined"==typeof c.processDeviceUsers&&(c.processDeviceUsers=function(b){a.Global.fire("ucs:fsDataReady",b)});var u=function(b){var c=a.Template.Micro.compile(t),d=a.mix({max:2,userList:b.users},q);return c(d)},v=function(b,c){var d=new a.Anim({node:b,from:{opacity:1},to:{opacity:0},duration:.2});d.on("end",function(){c(),d.set("reverse",!0),d.detach("end"),d.run()}),d.run()},w=function(){return a.Cookie.getSub("Y","l")},x=function(){return a.Cookie.getSub("ucs","fs")},y=function(b){a.Cookie.setSub("ucs","fs",b,{expires:new Date((new Date).setYear((new Date).getFullYear()+1)),domain:"yahoo.com",path:"/"})},z=function(b){a.one("#yucs-fs-name").setContent(b.fn+"&nbsp"+b.ln),a.one("#yucs-fs-email").setContent(b.em||b.alias)},A=function(b){a.one("#yucs-fs-acct-wrap").setContent(b)};a.ucs.FastSwitch=function(c){var j=this.fsNode=c,l=j.getAttribute(k+d),n=j.getAttribute(k+f),r=j.getAttribute(k+e),t=j.getAttribute(k+p),u=".crumb="+j.getAttribute(k+"crumb");if(o=t?parseInt(t,10):o,this.rendered=!1,this.firstLoad=!0,this.ycookie=w(),this.panel=a.one(m),this.mainDisplayItems=this.panel.all(".yucs-fs-m"),n=s+(n||l),l=s+l,"mail"===a.one("#yucs-meta").getAttribute("data-property")?r="https://mail.yahoo.com":(r=r.split("?"),r=r[0]+(r.length>1?encodeURIComponent("?"+r[1]):"")),q[d]=l,q[f]=n,q[e]=r,q[g]=n+"/w/device_users?"+u,q[h]=l+"/manage_account?.done="+r+"&"+u,q[i]=l+"/d?"+["as=1",u,"login="].join("&"),this.rapidHandler=new b,this.init(),window.performance){var v=""+((new Date).getTime()-window.performance.timing.navigationStart),x=j.getAttribute(k+"grp");x&&this.rapidHandler.sendInit(x,v)}},a.ucs.FastSwitch.prototype={init:function(){a.on("ucs:avatarReady",function(){a.one("#UH").once("mousemove",function(b){var c=a.one("#yucs-fs-acct .Ycon");a.Global.fire("ucs:loadAvatar",c,function(a){a&&c.one("img")&&c.removeClass("YconProfile")})},this)}),a.Global.on("ucs:fsDataReady",this.fsDataReady,this),a.one(window).on("blur",this.handleWindowBlur,this),a.one(window).on("focus",this.handleWindowFocus,this),this.addRequestHandlers()},fsDataReady:function(b){this.jsonpRequestPending=!1,this.rapidHandler.sendResponse(),"string"==typeof b&&(b=a.JSON.parse(b));var c=b&&b.result&&parseInt(b.result,10)||0;!b||c>0?(this.rapidHandler.sendAccount("err"),this.handleError()):(b.users&&this.rapidHandler.sendAccount(b.users.length),this.initWelcomeEvent(),this.setContent(b))},handleError:function(){var b=w(),c=document.createElement("p");c.className="Ta(c) Mx(-10px) My(0) P(16px) Bgc(#fcf8e3) Whs(n)",this.cookieError=!0,b&&this.ycookie===b?(c.className+=" Bdw(0) Bdtw(1px) Bds(s) Bdc(#e2e2e6)",c.innerHTML=this.fsNode.getAttribute("data-err-crumb")):(c.innerHTML=this.fsNode.getAttribute("data-err-user"),a.all(["#yucs-fs-acct","#yucs-fs-footer","#yucs-notifications","#yucs-profile-panel .yucs-spacing","#yucs-fs-add-acct"].join(",")).remove()),A(c)},sendJsonpRequest:function(){this.removeRequestHandlers(),this.jsonpRequestPending||this.cookieError||(this.jsonpRequestPending=!0,this.rapidHandler.init(),a.Get.js(q[g]),this.initTimeoutError())},initTimeoutError:function(){var b=this.fsNode.getAttribute("data-errTimeout")||1e4;this.clearTimeoutError(),this.errTimeout=a.later(b,this,this.handleTimeoutError)},clearTimeoutError:function(){this.errTimeout&&this.errTimeout.cancel()},handleTimeoutError:function(){this.jsonpTimedout||(this.jsonpTimedout=!0,this.rapidHandler.sendAccount("timeout")),this.setContent({}),this.addRequestHandlers()},addRequestHandlers:function(){this.mouseMoveRequest=a.one("#UH").once("mousemove",this.sendJsonpRequest,this),this.clickSendRequest=a.one("#yucs-profile .yucs-trigger").once("click",this.sendJsonpRequest,this)},removeRequestHandlers:function(){this.mouseMoveRequest&&this.mouseMoveRequest.detach(),this.clickSendRequest&&this.clickSendRequest.detach()},handleWindowBlur:function(){this.clearTimeoutError(),a.one("#yucs-profile").once("mousemove",this.handleWindowFocus,this)},handleWindowFocus:function(){var a=w();a&&this.ycookie===a||this.handleError()},initWelcomeEvent:function(){var b=["mousemove","mouseenter","click"];this.welcomeTriggerEvt=a.one("#yucs-profile .yucs-trigger").once(b,this.handleTriggerMove,this)},handleTriggerMove:function(b){this.welcomeTimeout&&this.welcomeTimeout.cancel(),this.rapidHandler.sendHover(this.rendered),this.welcomeTimeout=a.later(o,this,this.handleWelcomeTimeout)},handleWelcomeTimeout:function(){if(this.panel.hasClass(r(l)))return void this.initWelcomeEvent();var a=x();if(!a){var b=this.fsNode.getAttribute(k+"welcome");b=b.replace("https://login.yahoo.com/manage_account",q[h]),y(1),this.showMessage(b)}this.welcomeTriggerEvt.detach()},setContent:function(b){var c,d,e;if(this.clearTimeoutError(),b.users){for(var f=0,g=b.users.length;f<g;f++)if(e=parseInt(b.users[f].state,10),a.Array.indexOf([0,3],e)>=0){d=b.users.splice(f,1)[0];break}d&&v(this.fsNode,function(){return function(){z(d)}}()),b.users.length&&(this.setMultipleUserText(),c=a.Node.create(u(b)),A(c))}this.rendered=!0,a.Global.fire("ucs-rapid:refreshmodules","uhWrapper","0"),a.one("#yucs-fs-loading").addClass(l),this.rapidHandler.sendRender()},setMultipleUserText:function(){var b=this.fsNode.getAttribute("data-signout");b&&a.one("#yucs-signout").set("text",b);var c=this.fsNode.getAttribute(k+j);c&&a.one("#yucs-fs-add-acct span").set("text",c)},showMessage:function(b){var c,d,e=a.one(n),f=e.all("div");b&&f&&f.size()>0&&f.item(0).set("innerHTML",b),d=function(a){var b,c=a.get("className"),d=a.getStyle("top");return a.setStyle("top",-300),a.replaceClass(r(l),"Pos(a)"),b=a.get("offsetHeight"),a.set("className",c),a.setStyle("top",d),b}(e),c=this.anim=new a.Anim({node:e,from:{height:0},to:{height:d},duration:.4}),c.on("start",function(){var a=r(l);e.hasClass(a)&&(e.setStyle("height",0),e.removeClass(a))},this),c.run()},hideMessage:function(){this.anim.set("reverse",!0),this.anim.run()}}},"0.0.2",{requires:["node","cookie","event-custom","event-move","event-mouseenter","template-micro","get","anim","jsonp-super-cached","querystring-stringify","json-parse"]}),window.ucs&&window.ucs.YObj&&ucs.YObj.use("node","ucs-fast-switch",function(a){var b=a.one("#yucs-fs-acct");b&&(window.ucs.fastSwitch=new a.ucs.FastSwitch(b))});